!function(e){function __webpack_require__(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,__webpack_require__),r.l=!0,r.exports}var t={};__webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.i=function(e){return e},__webpack_require__.d=function(e,t,n){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="/bundles/wallabagcore/",__webpack_require__(__webpack_require__.s=52)}([function(e,t,n){var r,o;!function(t,n){"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,function(n,i){function isArrayLike(e){var t=!!e&&"length"in e&&e.length,n=m.type(e);return"function"!==n&&!m.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function winnow(e,t,n){if(m.isFunction(t))return m.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return m.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(k.test(t))return m.filter(t,e,n);t=m.filter(t,e)}return m.grep(e,function(e){return f.call(t,e)>-1!==n})}function sibling(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function createOptions(e){var t={};return m.each(e.match(P)||[],function(e,n){t[n]=!0}),t}function completed(){s.removeEventListener("DOMContentLoaded",completed),n.removeEventListener("load",completed),m.ready()}function Data(){this.expando=m.expando+Data.uid++}function dataAttr(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(H,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:F.test(n)?m.parseJSON(n):n)}catch(e){}j.set(e,t,n)}else n=void 0;return n}function adjustCSS(e,t,n,r){var o,i=1,a=20,s=r?function(){return r.cur()}:function(){return m.css(e,t,"")},u=s(),l=n&&n[3]||(m.cssNumber[t]?"":"px"),c=(m.cssNumber[t]||"px"!==l&&+u)&&B.exec(m.css(e,t));if(c&&c[3]!==l){l=l||c[3],n=n||[],c=+u||1;do{i=i||".5",c/=i,m.style(e,t,c+l)}while(i!==(i=s()/u)&&1!==i&&--a)}return n&&(c=+c||+u||0,o=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=o)),o}function getAll(e,t){var n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&m.nodeName(e,t)?m.merge([e],n):n}function setGlobalEval(e,t){for(var n=0,r=e.length;n<r;n++)R.set(e[n],"globalEval",!t||R.get(t[n],"globalEval"))}function buildFragment(e,t,n,r,o){for(var i,a,s,u,l,c,f=t.createDocumentFragment(),d=[],h=0,p=e.length;h<p;h++)if((i=e[h])||0===i)if("object"===m.type(i))m.merge(d,i.nodeType?[i]:i);else if(V.test(i)){for(a=a||f.appendChild(t.createElement("div")),s=(U.exec(i)||["",""])[1].toLowerCase(),u=X[s]||X._default,a.innerHTML=u[1]+m.htmlPrefilter(i)+u[2],c=u[0];c--;)a=a.lastChild;m.merge(d,a.childNodes),a=f.firstChild,a.textContent=""}else d.push(t.createTextNode(i));for(f.textContent="",h=0;i=d[h++];)if(r&&m.inArray(i,r)>-1)o&&o.push(i);else if(l=m.contains(i.ownerDocument,i),a=getAll(f.appendChild(i),"script"),l&&setGlobalEval(a),n)for(c=0;i=a[c++];)$.test(i.type||"")&&n.push(i);return f}function returnTrue(){return!0}function returnFalse(){return!1}function safeActiveElement(){try{return s.activeElement}catch(e){}}function on(e,t,n,r,o,i){var a,s;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(s in t)on(e,s,n,r,t[s],i);return e}if(null==r&&null==o?(o=n,r=n=void 0):null==o&&("string"==typeof n?(o=r,r=void 0):(o=r,r=n,n=void 0)),!1===o)o=returnFalse;else if(!o)return e;return 1===i&&(a=o,o=function(e){return m().off(e),a.apply(this,arguments)},o.guid=a.guid||(a.guid=m.guid++)),e.each(function(){m.event.add(this,t,o,r,n)})}function manipulationTarget(e,t){return m.nodeName(e,"table")&&m.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function disableScript(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function restoreScript(e){var t=ee.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function cloneCopyEvent(e,t){var n,r,o,i,a,s,u,l;if(1===t.nodeType){if(R.hasData(e)&&(i=R.access(e),a=R.set(t,i),l=i.events)){delete a.handle,a.events={};for(o in l)for(n=0,r=l[o].length;n<r;n++)m.event.add(t,o,l[o][n])}j.hasData(e)&&(s=j.access(e),u=m.extend({},s),j.set(t,u))}}function fixInput(e,t){var n=t.nodeName.toLowerCase();"input"===n&&W.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function domManip(e,t,n,r){t=l.apply([],t);var o,i,a,s,u,c,f=0,d=e.length,h=d-1,p=t[0],v=m.isFunction(p);if(v||d>1&&"string"==typeof p&&!g.checkClone&&Z.test(p))return e.each(function(o){var i=e.eq(o);v&&(t[0]=p.call(this,o,i.html())),domManip(i,t,n,r)});if(d&&(o=buildFragment(t,e[0].ownerDocument,!1,e,r),i=o.firstChild,1===o.childNodes.length&&(o=i),i||r)){for(a=m.map(getAll(o,"script"),disableScript),s=a.length;f<d;f++)u=o,f!==h&&(u=m.clone(u,!0,!0),s&&m.merge(a,getAll(u,"script"))),n.call(e[f],u,f);if(s)for(c=a[a.length-1].ownerDocument,m.map(a,restoreScript),f=0;f<s;f++)u=a[f],$.test(u.type||"")&&!R.access(u,"globalEval")&&m.contains(c,u)&&(u.src?m._evalUrl&&m._evalUrl(u.src):m.globalEval(u.textContent.replace(te,"")))}return e}function remove(e,t,n){for(var r,o=t?m.filter(t,e):e,i=0;null!=(r=o[i]);i++)n||1!==r.nodeType||m.cleanData(getAll(r)),r.parentNode&&(n&&m.contains(r.ownerDocument,r)&&setGlobalEval(getAll(r,"script")),r.parentNode.removeChild(r));return e}function actualDisplay(e,t){var n=m(t.createElement(e)).appendTo(t.body),r=m.css(n[0],"display");return n.detach(),r}function defaultDisplay(e){var t=s,n=re[e];return n||(n=actualDisplay(e,t),"none"!==n&&n||(ne=(ne||m("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=ne[0].contentDocument,t.write(),t.close(),n=actualDisplay(e,t),ne.detach()),re[e]=n),n}function curCSS(e,t,n){var r,o,i,a,s=e.style;return n=n||ae(e),a=n?n.getPropertyValue(t)||n[t]:void 0,""!==a&&void 0!==a||m.contains(e.ownerDocument,e)||(a=m.style(e,t)),n&&!g.pixelMarginRight()&&ie.test(a)&&oe.test(t)&&(r=s.width,o=s.minWidth,i=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=o,s.maxWidth=i),void 0!==a?a+"":a}function addGetHookIf(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function vendorPropName(e){if(e in he)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=de.length;n--;)if((e=de[n]+t)in he)return e}function setPositiveNumber(e,t,n){var r=B.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function augmentWidthOrHeight(e,t,n,r,o){for(var i=n===(r?"border":"content")?4:"width"===t?1:0,a=0;i<4;i+=2)"margin"===n&&(a+=m.css(e,n+z[i],!0,o)),r?("content"===n&&(a-=m.css(e,"padding"+z[i],!0,o)),"margin"!==n&&(a-=m.css(e,"border"+z[i]+"Width",!0,o))):(a+=m.css(e,"padding"+z[i],!0,o),"padding"!==n&&(a+=m.css(e,"border"+z[i]+"Width",!0,o)));return a}function getWidthOrHeight(e,t,n){var r=!0,o="width"===t?e.offsetWidth:e.offsetHeight,i=ae(e),a="border-box"===m.css(e,"boxSizing",!1,i);if(o<=0||null==o){if(o=curCSS(e,t,i),(o<0||null==o)&&(o=e.style[t]),ie.test(o))return o;r=a&&(g.boxSizingReliable()||o===e.style[t]),o=parseFloat(o)||0}return o+augmentWidthOrHeight(e,t,n||(a?"border":"content"),r,i)+"px"}function showHide(e,t){for(var n,r,o,i=[],a=0,s=e.length;a<s;a++)r=e[a],r.style&&(i[a]=R.get(r,"olddisplay"),n=r.style.display,t?(i[a]||"none"!==n||(r.style.display=""),""===r.style.display&&I(r)&&(i[a]=R.access(r,"olddisplay",defaultDisplay(r.nodeName)))):(o=I(r),"none"===n&&o||R.set(r,"olddisplay",o?n:m.css(r,"display"))));for(a=0;a<s;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?i[a]||"":"none"));return e}function Tween(e,t,n,r,o){return new Tween.prototype.init(e,t,n,r,o)}function createFxNow(){return n.setTimeout(function(){pe=void 0}),pe=m.now()}function genFx(e,t){var n,r=0,o={height:e};for(t=t?1:0;r<4;r+=2-t)n=z[r],o["margin"+n]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function createTween(e,t,n){for(var r,o=(Animation.tweeners[t]||[]).concat(Animation.tweeners["*"]),i=0,a=o.length;i<a;i++)if(r=o[i].call(n,t,e))return r}function defaultPrefilter(e,t,n){var r,o,i,a,s,u,l,c=this,f={},d=e.style,h=e.nodeType&&I(e),p=R.get(e,"fxshow");n.queue||(s=m._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,m.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],l=m.css(e,"display"),"inline"===("none"===l?R.get(e,"olddisplay")||defaultDisplay(e.nodeName):l)&&"none"===m.css(e,"float")&&(d.display="inline-block")),n.overflow&&(d.overflow="hidden",c.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(r in t)if(o=t[r],me.exec(o)){if(delete t[r],i=i||"toggle"===o,o===(h?"hide":"show")){if("show"!==o||!p||void 0===p[r])continue;h=!0}f[r]=p&&p[r]||m.style(e,r)}else l=void 0;if(m.isEmptyObject(f))"inline"===("none"===l?defaultDisplay(e.nodeName):l)&&(d.display=l);else{p?"hidden"in p&&(h=p.hidden):p=R.access(e,"fxshow",{}),i&&(p.hidden=!h),h?m(e).show():c.done(function(){m(e).hide()}),c.done(function(){var t;R.remove(e,"fxshow");for(t in f)m.style(e,t,f[t])});for(r in f)a=createTween(h?p[r]:0,r,c),r in p||(p[r]=a.start,h&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function propFilter(e,t){var n,r,o,i,a;for(n in e)if(r=m.camelCase(n),o=t[r],i=e[n],m.isArray(i)&&(o=i[1],i=e[n]=i[0]),n!==r&&(e[r]=i,delete e[n]),(a=m.cssHooks[r])&&"expand"in a){i=a.expand(i),delete e[r];for(n in i)n in e||(e[n]=i[n],t[n]=o)}else t[r]=o}function Animation(e,t,n){var r,o,i=0,a=Animation.prefilters.length,s=m.Deferred().always(function(){delete u.elem}),u=function(){if(o)return!1;for(var t=pe||createFxNow(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,i=1-r,a=0,u=l.tweens.length;a<u;a++)l.tweens[a].run(i);return s.notifyWith(e,[l,i,n]),i<1&&u?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:m.extend({},t),opts:m.extend(!0,{specialEasing:{},easing:m.easing._default},n),originalProperties:t,originalOptions:n,startTime:pe||createFxNow(),duration:n.duration,tweens:[],createTween:function(t,n){var r=m.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(o)return this;for(o=!0;n<r;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),c=l.props;for(propFilter(c,l.opts.specialEasing);i<a;i++)if(r=Animation.prefilters[i].call(l,e,c,l.opts))return m.isFunction(r.stop)&&(m._queueHooks(l.elem,l.opts.queue).stop=m.proxy(r.stop,r)),r;return m.map(c,createTween,l),m.isFunction(l.opts.start)&&l.opts.start.call(e,l),m.fx.timer(m.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function getClass(e){return e.getAttribute&&e.getAttribute("class")||""}function addToPrefiltersOrTransports(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,o=0,i=t.toLowerCase().match(P)||[];if(m.isFunction(n))for(;r=i[o++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function inspectPrefiltersOrTransports(e,t,n,r){function inspect(a){var s;return o[a]=!0,m.each(e[a]||[],function(e,a){var u=a(t,n,r);return"string"!=typeof u||i||o[u]?i?!(s=u):void 0:(t.dataTypes.unshift(u),inspect(u),!1)}),s}var o={},i=e===je;return inspect(t.dataTypes[0])||!o["*"]&&inspect("*")}function ajaxExtend(e,t){var n,r,o=m.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:r||(r={}))[n]=t[n]);return r&&m.extend(!0,e,r),e}function ajaxHandleResponses(e,t,n){for(var r,o,i,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(o in s)if(s[o]&&s[o].test(r)){u.unshift(o);break}if(u[0]in n)i=u[0];else{for(o in n){if(!u[0]||e.converters[o+" "+u[0]]){i=o;break}a||(a=o)}i=i||a}if(i)return i!==u[0]&&u.unshift(i),n[i]}function ajaxConvert(e,t,n,r){var o,i,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(i=c.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=i,i=c.shift())if("*"===i)i=u;else if("*"!==u&&u!==i){if(!(a=l[u+" "+i]||l["* "+i]))for(o in l)if(s=o.split(" "),s[1]===i&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[o]:!0!==l[o]&&(i=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+i}}}return{state:"success",data:t}}function buildParams(e,t,n,r){var o;if(m.isArray(t))m.each(t,function(t,o){n||Be.test(e)?r(e,o):buildParams(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,n,r)});else if(n||"object"!==m.type(t))r(e,t);else for(o in t)buildParams(e+"["+o+"]",t[o],n,r)}function getWindow(e){return m.isWindow(e)?e:9===e.nodeType&&e.defaultView}var a=[],s=n.document,u=a.slice,l=a.concat,c=a.push,f=a.indexOf,d={},h=d.toString,p=d.hasOwnProperty,g={},m=function(e,t){return new m.fn.init(e,t)},v=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,y=/^-ms-/,w=/-([\da-z])/gi,b=function(e,t){return t.toUpperCase()};m.fn=m.prototype={jquery:"2.2.4",constructor:m,selector:"",length:0,toArray:function(){return u.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:u.call(this)},pushStack:function(e){var t=m.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return m.each(this,e)},map:function(e){return this.pushStack(m.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:a.sort,splice:a.splice},m.extend=m.fn.extend=function(){var e,t,n,r,o,i,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||m.isFunction(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],r=e[t],a!==r&&(l&&r&&(m.isPlainObject(r)||(o=m.isArray(r)))?(o?(o=!1,i=n&&m.isArray(n)?n:[]):i=n&&m.isPlainObject(n)?n:{},a[t]=m.extend(l,i,r)):void 0!==r&&(a[t]=r));return a},m.extend({expando:"jQuery"+("2.2.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===m.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=e&&e.toString();return!m.isArray(e)&&t-parseFloat(t)+1>=0},isPlainObject:function(e){var t;if("object"!==m.type(e)||e.nodeType||m.isWindow(e))return!1;if(e.constructor&&!p.call(e,"constructor")&&!p.call(e.constructor.prototype||{},"isPrototypeOf"))return!1;for(t in e);return void 0===t||p.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?d[h.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;(e=m.trim(e))&&(1===e.indexOf("use strict")?(t=s.createElement("script"),t.text=e,s.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(y,"ms-").replace(w,b)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,r=0;if(isArrayLike(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(v,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(isArrayLike(Object(e))?m.merge(n,"string"==typeof e?[e]:e):c.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:f.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;r<n;r++)e[o++]=t[r];return e.length=o,e},grep:function(e,t,n){for(var r=[],o=0,i=e.length,a=!n;o<i;o++)!t(e[o],o)!==a&&r.push(e[o]);return r},map:function(e,t,n){var r,o,i=0,a=[];if(isArrayLike(e))for(r=e.length;i<r;i++)null!=(o=t(e[i],i,n))&&a.push(o);else for(i in e)null!=(o=t(e[i],i,n))&&a.push(o);return l.apply([],a)},guid:1,proxy:function(e,t){var n,r,o;if("string"==typeof t&&(n=e[t],t=e,e=n),m.isFunction(e))return r=u.call(arguments,2),o=function(){return e.apply(t||this,r.concat(u.call(arguments)))},o.guid=e.guid=e.guid||m.guid++,o},now:Date.now,support:g}),"function"==typeof Symbol&&(m.fn[Symbol.iterator]=a[Symbol.iterator]),m.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){d["[object "+t+"]"]=t.toLowerCase()});var x=function(e){function Sizzle(e,t,r,o){var i,s,l,c,f,p,v,y,T=t&&t.ownerDocument,C=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==C&&9!==C&&11!==C)return r;if(!o&&((t?t.ownerDocument||t:x)!==h&&d(t),t=t||h,g)){if(11!==C&&(p=J.exec(e)))if(i=p[1]){if(9===C){if(!(l=t.getElementById(i)))return r;if(l.id===i)return r.push(l),r}else if(T&&(l=T.getElementById(i))&&w(t,l)&&l.id===i)return r.push(l),r}else{if(p[2])return L.apply(r,t.getElementsByTagName(e)),r;if((i=p[3])&&n.getElementsByClassName&&t.getElementsByClassName)return L.apply(r,t.getElementsByClassName(i)),r}if(n.qsa&&!k[e+" "]&&(!m||!m.test(e))){if(1!==C)T=t,y=e;else if("object"!==t.nodeName.toLowerCase()){for((c=t.getAttribute("id"))?c=c.replace(ee,"\\$&"):t.setAttribute("id",c=b),v=a(e),s=v.length,f=V.test(c)?"#"+c:"[id='"+c+"']";s--;)v[s]=f+" "+toSelector(v[s]);y=v.join(","),T=Z.test(e)&&testContext(t.parentNode)||t}if(y)try{return L.apply(r,T.querySelectorAll(y)),r}catch(e){}finally{c===b&&t.removeAttribute("id")}}}return u(e.replace(I,"$1"),t,r,o)}function createCache(){function cache(t,n){return e.push(t+" ")>r.cacheLength&&delete cache[e.shift()],cache[t+" "]=n}var e=[];return cache}function markFunction(e){return e[b]=!0,e}function assert(e){var t=h.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function addHandle(e,t){for(var n=e.split("|"),o=n.length;o--;)r.attrHandle[n[o]]=t}function siblingCheck(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||A)-(~e.sourceIndex||A);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function createPositionalPseudo(e){return markFunction(function(t){return t=+t,markFunction(function(n,r){for(var o,i=e([],n.length,t),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))})})}function testContext(e){return e&&void 0!==e.getElementsByTagName&&e}function setFilters(){}function toSelector(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function addCombinator(e,t,n){var r=t.dir,o=n&&"parentNode"===r,i=C++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||o)return e(t,n,i)}:function(t,n,a){var s,u,l,c=[T,i];if(a){for(;t=t[r];)if((1===t.nodeType||o)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||o){if(l=t[b]||(t[b]={}),u=l[t.uniqueID]||(l[t.uniqueID]={}),(s=u[r])&&s[0]===T&&s[1]===i)return c[2]=s[2];if(u[r]=c,c[2]=e(t,n,a))return!0}}}function elementMatcher(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function multipleContexts(e,t,n){for(var r=0,o=t.length;r<o;r++)Sizzle(e,t[r],n);return n}function condense(e,t,n,r,o){for(var i,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(i=e[s])&&(n&&!n(i,r,o)||(a.push(i),l&&t.push(s)));return a}function setMatcher(e,t,n,r,o,i){return r&&!r[b]&&(r=setMatcher(r)),o&&!o[b]&&(o=setMatcher(o,i)),markFunction(function(i,a,s,u){var l,c,f,d=[],h=[],p=a.length,g=i||multipleContexts(t||"*",s.nodeType?[s]:s,[]),m=!e||!i&&t?g:condense(g,d,e,s,u),v=n?o||(i?e:p||r)?[]:a:m;if(n&&n(m,v,s,u),r)for(l=condense(v,h),r(l,[],s,u),c=l.length;c--;)(f=l[c])&&(v[h[c]]=!(m[h[c]]=f));if(i){if(o||e){if(o){for(l=[],c=v.length;c--;)(f=v[c])&&l.push(m[c]=f);o(null,v=[],l,u)}for(c=v.length;c--;)(f=v[c])&&(l=o?R(i,f):d[c])>-1&&(i[l]=!(a[l]=f))}}else v=condense(v===a?v.splice(p,v.length):v),o?o(null,a,v,u):L.apply(a,v)})}function matcherFromTokens(e){for(var t,n,o,i=e.length,a=r.relative[e[0].type],s=a||r.relative[" "],u=a?1:0,c=addCombinator(function(e){return e===t},s,!0),f=addCombinator(function(e){return R(t,e)>-1},s,!0),d=[function(e,n,r){var o=!a&&(r||n!==l)||((t=n).nodeType?c(e,n,r):f(e,n,r));return t=null,o}];u<i;u++)if(n=r.relative[e[u].type])d=[addCombinator(elementMatcher(d),n)];else{if(n=r.filter[e[u].type].apply(null,e[u].matches),n[b]){for(o=++u;o<i&&!r.relative[e[o].type];o++);return setMatcher(u>1&&elementMatcher(d),u>1&&toSelector(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(I,"$1"),n,u<o&&matcherFromTokens(e.slice(u,o)),o<i&&matcherFromTokens(e=e.slice(o)),o<i&&toSelector(e))}d.push(n)}return elementMatcher(d)}function matcherFromGroupMatchers(e,t){var n=t.length>0,o=e.length>0,i=function(i,a,s,u,c){var f,p,m,v=0,y="0",w=i&&[],b=[],x=l,C=i||o&&r.find.TAG("*",c),_=T+=null==x?1:Math.random()||.1,E=C.length;for(c&&(l=a===h||a||c);y!==E&&null!=(f=C[y]);y++){if(o&&f){for(p=0,a||f.ownerDocument===h||(d(f),s=!g);m=e[p++];)if(m(f,a||h,s)){u.push(f);break}c&&(T=_)}n&&((f=!m&&f)&&v--,i&&w.push(f))}if(v+=y,n&&y!==v){for(p=0;m=t[p++];)m(w,b,a,s);if(i){if(v>0)for(;y--;)w[y]||b[y]||(b[y]=P.call(u));b=condense(b)}L.apply(u,b),c&&!i&&b.length>0&&v+t.length>1&&Sizzle.uniqueSort(u)}return c&&(T=_,l=x),w};return n?markFunction(i):i}var t,n,r,o,i,a,s,u,l,c,f,d,h,p,g,m,v,y,w,b="sizzle"+1*new Date,x=e.document,T=0,C=0,_=createCache(),E=createCache(),k=createCache(),S=function(e,t){return e===t&&(f=!0),0},A=1<<31,N={}.hasOwnProperty,D=[],P=D.pop,O=D.push,L=D.push,M=D.slice,R=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},j="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",H="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",q="\\["+F+"*("+H+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+H+"))|)"+F+"*\\]",B=":("+H+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+q+")*)|.*)\\)|)",z=new RegExp(F+"+","g"),I=new RegExp("^"+F+"+|((?:^|[^\\\\])(?:\\\\.)*)"+F+"+$","g"),W=new RegExp("^"+F+"*,"+F+"*"),U=new RegExp("^"+F+"*([>+~]|"+F+")"+F+"*"),$=new RegExp("="+F+"*([^\\]'\"]*?)"+F+"*\\]","g"),X=new RegExp(B),V=new RegExp("^"+H+"$"),Y={ID:new RegExp("^#("+H+")"),CLASS:new RegExp("^\\.("+H+")"),TAG:new RegExp("^("+H+"|[*])"),ATTR:new RegExp("^"+q),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+F+"*(even|odd|(([+-]|)(\\d*)n|)"+F+"*(?:([+-]|)"+F+"*(\\d+)|))"+F+"*\\)|)","i"),bool:new RegExp("^(?:"+j+")$","i"),needsContext:new RegExp("^"+F+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+F+"*((?:-\\d)?\\d*)"+F+"*\\)|)(?=[^-]|$)","i")},K=/^(?:input|select|textarea|button)$/i,G=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Z=/[+~]/,ee=/'|\\/g,te=new RegExp("\\\\([\\da-f]{1,6}"+F+"?|("+F+")|.)","ig"),ne=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},re=function(){d()};try{L.apply(D=M.call(x.childNodes),x.childNodes),D[x.childNodes.length].nodeType}catch(e){L={apply:D.length?function(e,t){O.apply(e,M.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}n=Sizzle.support={},i=Sizzle.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},d=Sizzle.setDocument=function(e){var t,o,a=e?e.ownerDocument||e:x;return a!==h&&9===a.nodeType&&a.documentElement?(h=a,p=h.documentElement,g=!i(h),(o=h.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener("unload",re,!1):o.attachEvent&&o.attachEvent("onunload",re)),n.attributes=assert(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=assert(function(e){return e.appendChild(h.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Q.test(h.getElementsByClassName),n.getById=assert(function(e){return p.appendChild(e).id=b,!h.getElementsByName||!h.getElementsByName(b).length}),n.getById?(r.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}},r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}}):(delete r.find.ID,r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&g)return t.getElementsByClassName(e)},v=[],m=[],(n.qsa=Q.test(h.querySelectorAll))&&(assert(function(e){p.appendChild(e).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+F+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+F+"*(?:value|"+j+")"),e.querySelectorAll("[id~="+b+"-]").length||m.push("~="),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+b+"+*").length||m.push(".#.+[+~]")}),assert(function(e){var t=h.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+F+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(n.matchesSelector=Q.test(y=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&assert(function(e){n.disconnectedMatch=y.call(e,"div"),y.call(e,"[s!='']:x"),v.push("!=",B)}),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),t=Q.test(p.compareDocumentPosition),w=t||Q.test(p.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},S=t?function(e,t){if(e===t)return f=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&r||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===h||e.ownerDocument===x&&w(x,e)?-1:t===h||t.ownerDocument===x&&w(x,t)?1:c?R(c,e)-R(c,t):0:4&r?-1:1)}:function(e,t){if(e===t)return f=!0,0;var n,r=0,o=e.parentNode,i=t.parentNode,a=[e],s=[t];if(!o||!i)return e===h?-1:t===h?1:o?-1:i?1:c?R(c,e)-R(c,t):0;if(o===i)return siblingCheck(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?siblingCheck(a[r],s[r]):a[r]===x?-1:s[r]===x?1:0},h):h},Sizzle.matches=function(e,t){return Sizzle(e,null,null,t)},Sizzle.matchesSelector=function(e,t){if((e.ownerDocument||e)!==h&&d(e),t=t.replace($,"='$1']"),n.matchesSelector&&g&&!k[t+" "]&&(!v||!v.test(t))&&(!m||!m.test(t)))try{var r=y.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return Sizzle(t,h,null,[e]).length>0},Sizzle.contains=function(e,t){return(e.ownerDocument||e)!==h&&d(e),w(e,t)},Sizzle.attr=function(e,t){(e.ownerDocument||e)!==h&&d(e);var o=r.attrHandle[t.toLowerCase()],i=o&&N.call(r.attrHandle,t.toLowerCase())?o(e,t,!g):void 0;return void 0!==i?i:n.attributes||!g?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},Sizzle.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},Sizzle.uniqueSort=function(e){var t,r=[],o=0,i=0;if(f=!n.detectDuplicates,c=!n.sortStable&&e.slice(0),e.sort(S),f){for(;t=e[i++];)t===e[i]&&(o=r.push(i));for(;o--;)e.splice(r[o],1)}return c=null,e},o=Sizzle.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=o(t);return n},r=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||Sizzle.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&Sizzle.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Y.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=_[e+" "];return t||(t=new RegExp("(^|"+F+")"+e+"("+F+"|$)"))&&_(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var o=Sizzle.attr(r,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o.replace(z," ")+" ").indexOf(n)>-1:"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,d,h,p,g=i!==a?"nextSibling":"previousSibling",m=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!u&&!s,w=!1;if(m){if(i){for(;g;){for(d=t;d=d[g];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?m.firstChild:m.lastChild],a&&y){for(d=m,f=d[b]||(d[b]={}),c=f[d.uniqueID]||(f[d.uniqueID]={}),l=c[e]||[],h=l[0]===T&&l[1],w=h&&l[2],d=h&&m.childNodes[h];d=++h&&d&&d[g]||(w=h=0)||p.pop();)if(1===d.nodeType&&++w&&d===t){c[e]=[T,h,w];break}}else if(y&&(d=t,f=d[b]||(d[b]={}),c=f[d.uniqueID]||(f[d.uniqueID]={}),l=c[e]||[],h=l[0]===T&&l[1],w=h),!1===w)for(;(d=++h&&d&&d[g]||(w=h=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++w||(y&&(f=d[b]||(d[b]={}),c=f[d.uniqueID]||(f[d.uniqueID]={}),c[e]=[T,w]),d!==t)););return(w-=o)===r||w%r==0&&w/r>=0}}},PSEUDO:function(e,t){var n,o=r.pseudos[e]||r.setFilters[e.toLowerCase()]||Sizzle.error("unsupported pseudo: "+e);return o[b]?o(t):o.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?markFunction(function(e,n){for(var r,i=o(e,t),a=i.length;a--;)r=R(e,i[a]),e[r]=!(n[r]=i[a])}):function(e){return o(e,0,n)}):o}},pseudos:{not:markFunction(function(e){var t=[],n=[],r=s(e.replace(I,"$1"));return r[b]?markFunction(function(e,t,n,o){for(var i,a=r(e,null,o,[]),s=e.length;s--;)(i=a[s])&&(e[s]=!(t[s]=i))}):function(e,o,i){return t[0]=e,r(t,null,i,n),t[0]=null,!n.pop()}}),has:markFunction(function(e){return function(t){return Sizzle(e,t).length>0}}),contains:markFunction(function(e){return e=e.replace(te,ne),function(t){return(t.textContent||t.innerText||o(t)).indexOf(e)>-1}}),lang:markFunction(function(e){return V.test(e||"")||Sizzle.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return G.test(e.nodeName)},input:function(e){return K.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:createPositionalPseudo(function(){return[0]}),last:createPositionalPseudo(function(e,t){return[t-1]}),eq:createPositionalPseudo(function(e,t,n){return[n<0?n+t:n]}),even:createPositionalPseudo(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:createPositionalPseudo(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:createPositionalPseudo(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:createPositionalPseudo(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},r.pseudos.nth=r.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(t);return setFilters.prototype=r.filters=r.pseudos,r.setFilters=new setFilters,a=Sizzle.tokenize=function(e,t){var n,o,i,a,s,u,l,c=E[e+" "];if(c)return t?0:c.slice(0);for(s=e,u=[],l=r.preFilter;s;){n&&!(o=W.exec(s))||(o&&(s=s.slice(o[0].length)||s),u.push(i=[])),n=!1,(o=U.exec(s))&&(n=o.shift(),i.push({value:n,type:o[0].replace(I," ")}),s=s.slice(n.length));for(a in r.filter)!(o=Y[a].exec(s))||l[a]&&!(o=l[a](o))||(n=o.shift(),i.push({value:n,type:a,matches:o}),s=s.slice(n.length));if(!n)break}return t?s.length:s?Sizzle.error(e):E(e,u).slice(0)},s=Sizzle.compile=function(e,t){var n,r=[],o=[],i=k[e+" "];if(!i){for(t||(t=a(e)),n=t.length;n--;)i=matcherFromTokens(t[n]),i[b]?r.push(i):o.push(i);i=k(e,matcherFromGroupMatchers(o,r)),i.selector=e}return i},u=Sizzle.select=function(e,t,o,i){var u,l,c,f,d,h="function"==typeof e&&e,p=!i&&a(e=h.selector||e);if(o=o||[],1===p.length){if(l=p[0]=p[0].slice(0),l.length>2&&"ID"===(c=l[0]).type&&n.getById&&9===t.nodeType&&g&&r.relative[l[1].type]){if(!(t=(r.find.ID(c.matches[0].replace(te,ne),t)||[])[0]))return o;h&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(u=Y.needsContext.test(e)?0:l.length;u--&&(c=l[u],!r.relative[f=c.type]);)if((d=r.find[f])&&(i=d(c.matches[0].replace(te,ne),Z.test(l[0].type)&&testContext(t.parentNode)||t))){if(l.splice(u,1),!(e=i.length&&toSelector(l)))return L.apply(o,i),o;break}}return(h||s(e,p))(i,t,!g,o,!t||Z.test(e)&&testContext(t.parentNode)||t),o},n.sortStable=b.split("").sort(S).join("")===b,n.detectDuplicates=!!f,d(),n.sortDetached=assert(function(e){return 1&e.compareDocumentPosition(h.createElement("div"))}),assert(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||addHandle("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&assert(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||addHandle("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),assert(function(e){return null==e.getAttribute("disabled")})||addHandle(j,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),Sizzle}(n);m.find=x,m.expr=x.selectors,m.expr[":"]=m.expr.pseudos,m.uniqueSort=m.unique=x.uniqueSort,m.text=x.getText,m.isXMLDoc=x.isXML,m.contains=x.contains;var T=function(e,t,n){for(var r=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&m(e).is(n))break;r.push(e)}return r},C=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},_=m.expr.match.needsContext,E=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,k=/^.[^:#\[\.,]*$/;m.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?m.find.matchesSelector(r,e)?[r]:[]:m.find.matches(e,m.grep(t,function(e){return 1===e.nodeType}))},m.fn.extend({find:function(e){var t,n=this.length,r=[],o=this;if("string"!=typeof e)return this.pushStack(m(e).filter(function(){for(t=0;t<n;t++)if(m.contains(o[t],this))return!0}));for(t=0;t<n;t++)m.find(e,o[t],r);return r=this.pushStack(n>1?m.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(winnow(this,e||[],!1))},not:function(e){return this.pushStack(winnow(this,e||[],!0))},is:function(e){return!!winnow(this,"string"==typeof e&&_.test(e)?m(e):e||[],!1).length}});var S,A=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(m.fn.init=function(e,t,n){var r,o;if(!e)return this;if(n=n||S,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:A.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof m?t[0]:t,m.merge(this,m.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:s,!0)),E.test(r[1])&&m.isPlainObject(t))for(r in t)m.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return o=s.getElementById(r[2]),o&&o.parentNode&&(this.length=1,this[0]=o),this.context=s,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):m.isFunction(e)?void 0!==n.ready?n.ready(e):e(m):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),m.makeArray(e,this))}).prototype=m.fn,S=m(s);var N=/^(?:parents|prev(?:Until|All))/,D={children:!0,contents:!0,next:!0,prev:!0};m.fn.extend({has:function(e){var t=m(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(m.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,o=this.length,i=[],a=_.test(e)||"string"!=typeof e?m(e,t||this.context):0;r<o;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&m.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(i.length>1?m.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?f.call(m(e),this[0]):f.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(m.uniqueSort(m.merge(this.get(),m(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),m.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return T(e,"parentNode")},parentsUntil:function(e,t,n){return T(e,"parentNode",n)},next:function(e){return sibling(e,"nextSibling")},prev:function(e){return sibling(e,"previousSibling")},nextAll:function(e){return T(e,"nextSibling")},prevAll:function(e){return T(e,"previousSibling")},nextUntil:function(e,t,n){return T(e,"nextSibling",n)},prevUntil:function(e,t,n){return T(e,"previousSibling",n)},siblings:function(e){return C((e.parentNode||{}).firstChild,e)},children:function(e){return C(e.firstChild)},contents:function(e){return e.contentDocument||m.merge([],e.childNodes)}},function(e,t){m.fn[e]=function(n,r){var o=m.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=m.filter(r,o)),this.length>1&&(D[e]||m.uniqueSort(o),N.test(e)&&o.reverse()),this.pushStack(o)}});var P=/\S+/g;m.Callbacks=function(e){e="string"==typeof e?createOptions(e):m.extend({},e);var t,n,r,o,i=[],a=[],s=-1,u=function(){for(o=e.once,r=t=!0;a.length;s=-1)for(n=a.shift();++s<i.length;)!1===i[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=i.length,n=!1);e.memory||(n=!1),t=!1,o&&(i=n?[]:"")},l={add:function(){return i&&(n&&!t&&(s=i.length-1,a.push(n)),function add(t){m.each(t,function(t,n){m.isFunction(n)?e.unique&&l.has(n)||i.push(n):n&&n.length&&"string"!==m.type(n)&&add(n)})}(arguments),n&&!t&&u()),this},remove:function(){return m.each(arguments,function(e,t){for(var n;(n=m.inArray(t,i,n))>-1;)i.splice(n,1),n<=s&&s--}),this},has:function(e){return e?m.inArray(e,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return o=a=[],i=n="",this},disabled:function(){return!i},lock:function(){return o=a=[],n||(i=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=n||[],n=[e,n.slice?n.slice():n],a.push(n),t||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},m.extend({Deferred:function(e){var t=[["resolve","done",m.Callbacks("once memory"),"resolved"],["reject","fail",m.Callbacks("once memory"),"rejected"],["notify","progress",m.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return m.Deferred(function(n){m.each(t,function(t,i){var a=m.isFunction(e[t])&&e[t];o[i[1]](function(){var e=a&&a.apply(this,arguments);e&&m.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?m.extend(e,r):r}},o={};return r.pipe=r.then,m.each(t,function(e,i){var a=i[2],s=i[3];r[i[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),o[i[0]]=function(){return o[i[0]+"With"](this===o?r:this,arguments),this},o[i[0]+"With"]=a.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(e){var t,n,r,o=0,i=u.call(arguments),a=i.length,s=1!==a||e&&m.isFunction(e.promise)?a:0,l=1===s?e:m.Deferred(),c=function(e,n,r){return function(o){n[e]=this,r[e]=arguments.length>1?u.call(arguments):o,r===t?l.notifyWith(n,r):--s||l.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);o<a;o++)i[o]&&m.isFunction(i[o].promise)?i[o].promise().progress(c(o,n,t)).done(c(o,r,i)).fail(l.reject):--s;return s||l.resolveWith(r,i),l.promise()}});var O;m.fn.ready=function(e){return m.ready.promise().done(e),this},m.extend({isReady:!1,readyWait:1,holdReady:function(e){e?m.readyWait++:m.ready(!0)},ready:function(e){(!0===e?--m.readyWait:m.isReady)||(m.isReady=!0,!0!==e&&--m.readyWait>0||(O.resolveWith(s,[m]),m.fn.triggerHandler&&(m(s).triggerHandler("ready"),m(s).off("ready"))))}}),m.ready.promise=function(e){return O||(O=m.Deferred(),"complete"===s.readyState||"loading"!==s.readyState&&!s.documentElement.doScroll?n.setTimeout(m.ready):(s.addEventListener("DOMContentLoaded",completed),n.addEventListener("load",completed))),O.promise(e)},m.ready.promise();var L=function(e,t,n,r,o,i,a){var s=0,u=e.length,l=null==n;if("object"===m.type(n)){o=!0;for(s in n)L(e,t,s,n[s],!0,i,a)}else if(void 0!==r&&(o=!0,m.isFunction(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(m(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return o?e:l?t.call(e):u?t(e[0],n):i},M=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};Data.uid=1,Data.prototype={register:function(e,t){var n=t||{};return e.nodeType?e[this.expando]=n:Object.defineProperty(e,this.expando,{value:n,writable:!0,configurable:!0}),e[this.expando]},cache:function(e){if(!M(e))return{};var t=e[this.expando];return t||(t={},M(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,o=this.cache(e);if("string"==typeof t)o[t]=n;else for(r in t)o[r]=t[r];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?(r=this.get(e,t),void 0!==r?r:this.get(e,m.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,o,i=e[this.expando];if(void 0!==i){if(void 0===t)this.register(e);else{m.isArray(t)?r=t.concat(t.map(m.camelCase)):(o=m.camelCase(t),t in i?r=[t,o]:(r=o,r=r in i?[r]:r.match(P)||[])),n=r.length;for(;n--;)delete i[r[n]]}(void 0===t||m.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!m.isEmptyObject(t)}};var R=new Data,j=new Data,F=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,H=/[A-Z]/g;m.extend({hasData:function(e){return j.hasData(e)||R.hasData(e)},data:function(e,t,n){return j.access(e,t,n)},removeData:function(e,t){j.remove(e,t)},_data:function(e,t,n){return R.access(e,t,n)},_removeData:function(e,t){R.remove(e,t)}}),m.fn.extend({data:function(e,t){var n,r,o,i=this[0],a=i&&i.attributes;if(void 0===e){if(this.length&&(o=j.get(i),1===i.nodeType&&!R.get(i,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=m.camelCase(r.slice(5)),dataAttr(i,r,o[r])));R.set(i,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each(function(){j.set(this,e)}):L(this,function(t){var n,r;if(i&&void 0===t){if(void 0!==(n=j.get(i,e)||j.get(i,e.replace(H,"-$&").toLowerCase())))return n;if(r=m.camelCase(e),void 0!==(n=j.get(i,r)))return n;if(void 0!==(n=dataAttr(i,r,void 0)))return n}else r=m.camelCase(e),this.each(function(){var n=j.get(this,r);j.set(this,r,t),e.indexOf("-")>-1&&void 0!==n&&j.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){j.remove(this,e)})}}),m.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=R.get(e,t),n&&(!r||m.isArray(n)?r=R.access(e,t,m.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=m.queue(e,t),r=n.length,o=n.shift(),i=m._queueHooks(e,t),a=function(){m.dequeue(e,t)};"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete i.stop,o.call(e,a,i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return R.get(e,n)||R.access(e,n,{empty:m.Callbacks("once memory").add(function(){R.remove(e,[t+"queue",n])})})}}),m.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?m.queue(this[0],e):void 0===t?this:this.each(function(){var n=m.queue(this,e,t);m._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&m.dequeue(this,e)})},dequeue:function(e){return this.each(function(){m.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,o=m.Deferred(),i=this,a=this.length,s=function(){--r||o.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=R.get(i[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),o.promise(t)}});var q=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,B=new RegExp("^(?:([+-])=|)("+q+")([a-z%]*)$","i"),z=["Top","Right","Bottom","Left"],I=function(e,t){return e=t||e,"none"===m.css(e,"display")||!m.contains(e.ownerDocument,e)},W=/^(?:checkbox|radio)$/i,U=/<([\w:-]+)/,$=/^$|\/(?:java|ecma)script/i,X={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};X.optgroup=X.option,X.tbody=X.tfoot=X.colgroup=X.caption=X.thead,X.th=X.td;var V=/<|&#?\w+;/;!function(){var e=s.createDocumentFragment(),t=e.appendChild(s.createElement("div")),n=s.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),g.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Y=/^key/,K=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,G=/^([^.]*)(?:\.(.+)|)/;m.event={global:{},add:function(e,t,n,r,o){var i,a,s,u,l,c,f,d,h,p,g,v=R.get(e);if(v)for(n.handler&&(i=n,n=i.handler,o=i.selector),n.guid||(n.guid=m.guid++),(u=v.events)||(u=v.events={}),(a=v.handle)||(a=v.handle=function(t){return void 0!==m&&m.event.triggered!==t.type?m.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(P)||[""],l=t.length;l--;)s=G.exec(t[l])||[],h=g=s[1],p=(s[2]||"").split(".").sort(),h&&(f=m.event.special[h]||{},h=(o?f.delegateType:f.bindType)||h,f=m.event.special[h]||{},c=m.extend({type:h,origType:g,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&m.expr.match.needsContext.test(o),namespace:p.join(".")},i),(d=u[h])||(d=u[h]=[],d.delegateCount=0,f.setup&&!1!==f.setup.call(e,r,p,a)||e.addEventListener&&e.addEventListener(h,a)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),o?d.splice(d.delegateCount++,0,c):d.push(c),m.event.global[h]=!0)},remove:function(e,t,n,r,o){var i,a,s,u,l,c,f,d,h,p,g,v=R.hasData(e)&&R.get(e);if(v&&(u=v.events)){for(t=(t||"").match(P)||[""],l=t.length;l--;)if(s=G.exec(t[l])||[],h=g=s[1],p=(s[2]||"").split(".").sort(),h){for(f=m.event.special[h]||{},h=(r?f.delegateType:f.bindType)||h,d=u[h]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=d.length;i--;)c=d[i],!o&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(d.splice(i,1),c.selector&&d.delegateCount--,f.remove&&f.remove.call(e,c));a&&!d.length&&(f.teardown&&!1!==f.teardown.call(e,p,v.handle)||m.removeEvent(e,h,v.handle),delete u[h])}else for(h in u)m.event.remove(e,h+t[l],n,r,!0);m.isEmptyObject(u)&&R.remove(e,"handle events")}},dispatch:function(e){e=m.event.fix(e);var t,n,r,o,i,a=[],s=u.call(arguments),l=(R.get(this,"events")||{})[e.type]||[],c=m.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(a=m.event.handlers.call(this,e,l),t=0;(o=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,n=0;(i=o.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(i.namespace)||(e.handleObj=i,e.data=i.data,void 0!==(r=((m.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,s))&&!1===(e.result=r)&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,o,i,a=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&(!0!==u.disabled||"click"!==e.type)){for(r=[],n=0;n<s;n++)i=t[n],o=i.selector+" ",void 0===r[o]&&(r[o]=i.needsContext?m(o,this).index(u)>-1:m.find(o,this,null,[u]).length),r[o]&&r.push(i);r.length&&a.push({elem:u,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,o,i=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||s,r=n.documentElement,o=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),e.which||void 0===i||(e.which=1&i?1:2&i?3:4&i?2:0),e}},fix:function(e){if(e[m.expando])return e;var t,n,r,o=e.type,i=e,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=K.test(o)?this.mouseHooks:Y.test(o)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new m.Event(i),t=r.length;t--;)n=r[t],e[n]=i[n];return e.target||(e.target=s),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,i):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==safeActiveElement()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===safeActiveElement()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&m.nodeName(this,"input"))return this.click(),!1},_default:function(e){return m.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},m.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},m.Event=function(e,t){if(!(this instanceof m.Event))return new m.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?returnTrue:returnFalse):this.type=e,t&&m.extend(this,t),this.timeStamp=e&&e.timeStamp||m.now(),this[m.expando]=!0},m.Event.prototype={constructor:m.Event,isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=returnTrue,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},m.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){m.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,o=e.relatedTarget,i=e.handleObj;return o&&(o===r||m.contains(r,o))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}}),m.fn.extend({on:function(e,t,n,r){return on(this,e,t,n,r)},one:function(e,t,n,r){return on(this,e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,m(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=returnFalse),this.each(function(){m.event.remove(this,e,n,t)})}});var Q=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,J=/<script|<style|<link/i,Z=/checked\s*(?:[^=]|=\s*.checked.)/i,ee=/^true\/(.*)/,te=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;m.extend({htmlPrefilter:function(e){return e.replace(Q,"<$1></$2>")},clone:function(e,t,n){var r,o,i,a,s=e.cloneNode(!0),u=m.contains(e.ownerDocument,e);if(!(g.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||m.isXMLDoc(e)))for(a=getAll(s),i=getAll(e),r=0,o=i.length;r<o;r++)fixInput(i[r],a[r]);if(t)if(n)for(i=i||getAll(e),a=a||getAll(s),r=0,o=i.length;r<o;r++)cloneCopyEvent(i[r],a[r]);else cloneCopyEvent(e,s);return a=getAll(s,"script"),a.length>0&&setGlobalEval(a,!u&&getAll(e,"script")),s},cleanData:function(e){for(var t,n,r,o=m.event.special,i=0;void 0!==(n=e[i]);i++)if(M(n)){if(t=n[R.expando]){if(t.events)for(r in t.events)o[r]?m.event.remove(n,r):m.removeEvent(n,r,t.handle);n[R.expando]=void 0}n[j.expando]&&(n[j.expando]=void 0)}}}),m.fn.extend({domManip:domManip,detach:function(e){return remove(this,e,!0)},remove:function(e){return remove(this,e)},text:function(e){return L(this,function(e){return void 0===e?m.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return domManip(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){manipulationTarget(this,e).appendChild(e)}})},prepend:function(){return domManip(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=manipulationTarget(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return domManip(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return domManip(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(m.cleanData(getAll(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return m.clone(this,e,t)})},html:function(e){return L(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!J.test(e)&&!X[(U.exec(e)||["",""])[1].toLowerCase()]){e=m.htmlPrefilter(e);try{for(;n<r;n++)t=this[n]||{},1===t.nodeType&&(m.cleanData(getAll(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return domManip(this,arguments,function(t){var n=this.parentNode;m.inArray(this,e)<0&&(m.cleanData(getAll(this)),n&&n.replaceChild(t,this))},e)}}),m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){m.fn[e]=function(e){for(var n,r=[],o=m(e),i=o.length-1,a=0;a<=i;a++)n=a===i?this:this.clone(!0),m(o[a])[t](n),c.apply(r,n.get());return this.pushStack(r)}});var ne,re={HTML:"block",BODY:"block"},oe=/^margin/,ie=new RegExp("^("+q+")(?!px)[a-z%]+$","i"),ae=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)},se=function(e,t,n,r){var o,i,a={};for(i in t)a[i]=e.style[i],e.style[i]=t[i];o=n.apply(e,r||[]);for(i in t)e.style[i]=a[i];return o},ue=s.documentElement;!function(){function computeStyleTests(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",ue.appendChild(i);var s=n.getComputedStyle(a);e="1%"!==s.top,o="2px"===s.marginLeft,t="4px"===s.width,a.style.marginRight="50%",r="4px"===s.marginRight,ue.removeChild(i)}var e,t,r,o,i=s.createElement("div"),a=s.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===a.style.backgroundClip,i.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",i.appendChild(a),m.extend(g,{pixelPosition:function(){return computeStyleTests(),e},boxSizingReliable:function(){return null==t&&computeStyleTests(),t},pixelMarginRight:function(){return null==t&&computeStyleTests(),r},reliableMarginLeft:function(){return null==t&&computeStyleTests(),o},reliableMarginRight:function(){var e,t=a.appendChild(s.createElement("div"));return t.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",a.style.width="1px",ue.appendChild(i),e=!parseFloat(n.getComputedStyle(t).marginRight),ue.removeChild(i),a.removeChild(t),e}}))}();var le=/^(none|table(?!-c[ea]).+)/,ce={position:"absolute",visibility:"hidden",display:"block"},fe={letterSpacing:"0",fontWeight:"400"},de=["Webkit","O","Moz","ms"],he=s.createElement("div").style;m.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=curCSS(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,i,a,s=m.camelCase(t),u=e.style;if(t=m.cssProps[s]||(m.cssProps[s]=vendorPropName(s)||s),a=m.cssHooks[t]||m.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(o=a.get(e,!1,r))?o:u[t];i=typeof n,"string"===i&&(o=B.exec(n))&&o[1]&&(n=adjustCSS(e,t,o),i="number"),null!=n&&n===n&&("number"===i&&(n+=o&&o[3]||(m.cssNumber[s]?"":"px")),g.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u[t]=n))}},css:function(e,t,n,r){var o,i,a,s=m.camelCase(t);return t=m.cssProps[s]||(m.cssProps[s]=vendorPropName(s)||s),a=m.cssHooks[t]||m.cssHooks[s],a&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=curCSS(e,t,r)),"normal"===o&&t in fe&&(o=fe[t]),""===n||n?(i=parseFloat(o),!0===n||isFinite(i)?i||0:o):o}}),m.each(["height","width"],function(e,t){m.cssHooks[t]={get:function(e,n,r){if(n)return le.test(m.css(e,"display"))&&0===e.offsetWidth?se(e,ce,function(){return getWidthOrHeight(e,t,r)}):getWidthOrHeight(e,t,r)},set:function(e,n,r){var o,i=r&&ae(e),a=r&&augmentWidthOrHeight(e,t,r,"border-box"===m.css(e,"boxSizing",!1,i),i);return a&&(o=B.exec(n))&&"px"!==(o[3]||"px")&&(e.style[t]=n,n=m.css(e,t)),setPositiveNumber(e,n,a)}}}),m.cssHooks.marginLeft=addGetHookIf(g.reliableMarginLeft,function(e,t){if(t)return(parseFloat(curCSS(e,"marginLeft"))||e.getBoundingClientRect().left-se(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),m.cssHooks.marginRight=addGetHookIf(g.reliableMarginRight,function(e,t){if(t)return se(e,{display:"inline-block"},curCSS,[e,"marginRight"])}),m.each({margin:"",padding:"",border:"Width"},function(e,t){m.cssHooks[e+t]={expand:function(n){for(var r=0,o={},i="string"==typeof n?n.split(" "):[n];r<4;r++)o[e+z[r]+t]=i[r]||i[r-2]||i[0];return o}},oe.test(e)||(m.cssHooks[e+t].set=setPositiveNumber)}),m.fn.extend({css:function(e,t){return L(this,function(e,t,n){var r,o,i={},a=0;if(m.isArray(t)){for(r=ae(e),o=t.length;a<o;a++)i[t[a]]=m.css(e,t[a],!1,r);return i}return void 0!==n?m.style(e,t,n):m.css(e,t)},e,t,arguments.length>1)},show:function(){return showHide(this,!0)},hide:function(){return showHide(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){I(this)?m(this).show():m(this).hide()})}}),m.Tween=Tween,Tween.prototype={constructor:Tween,init:function(e,t,n,r,o,i){this.elem=e,this.prop=n,this.easing=o||m.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=i||(m.cssNumber[n]?"":"px")},cur:function(){var e=Tween.propHooks[this.prop];return e&&e.get?e.get(this):Tween.propHooks._default.get(this)},run:function(e){var t,n=Tween.propHooks[this.prop];return this.options.duration?this.pos=t=m.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Tween.propHooks._default.set(this),this}},Tween.prototype.init.prototype=Tween.prototype,Tween.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=m.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){m.fx.step[e.prop]?m.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[m.cssProps[e.prop]]&&!m.cssHooks[e.prop]?e.elem[e.prop]=e.now:m.style(e.elem,e.prop,e.now+e.unit)}}},Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},m.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},m.fx=Tween.prototype.init,m.fx.step={};var pe,ge,me=/^(?:toggle|show|hide)$/,ve=/queueHooks$/;m.Animation=m.extend(Animation,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return adjustCSS(n.elem,e,B.exec(t),n),n}]},tweener:function(e,t){m.isFunction(e)?(t=e,e=["*"]):e=e.match(P);for(var n,r=0,o=e.length;r<o;r++)n=e[r],Animation.tweeners[n]=Animation.tweeners[n]||[],Animation.tweeners[n].unshift(t)},prefilters:[defaultPrefilter],prefilter:function(e,t){t?Animation.prefilters.unshift(e):Animation.prefilters.push(e)}}),m.speed=function(e,t,n){var r=e&&"object"==typeof e?m.extend({},e):{complete:n||!n&&t||m.isFunction(e)&&e,duration:e,easing:n&&t||t&&!m.isFunction(t)&&t};return r.duration=m.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in m.fx.speeds?m.fx.speeds[r.duration]:m.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){m.isFunction(r.old)&&r.old.call(this),r.queue&&m.dequeue(this,r.queue)},r},m.fn.extend({fadeTo:function(e,t,n,r){return this.filter(I).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var o=m.isEmptyObject(e),i=m.speed(t,n,r),a=function(){var t=Animation(this,m.extend({},e),i);(o||R.get(this,"finish"))&&t.stop(!0)};return a.finish=a,o||!1===i.queue?this.each(a):this.queue(i.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",i=m.timers,a=R.get(this);if(o)a[o]&&a[o].stop&&r(a[o]);else for(o in a)a[o]&&a[o].stop&&ve.test(o)&&r(a[o]);for(o=i.length;o--;)i[o].elem!==this||null!=e&&i[o].queue!==e||(i[o].anim.stop(n),t=!1,i.splice(o,1));!t&&n||m.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=R.get(this),r=n[e+"queue"],o=n[e+"queueHooks"],i=m.timers,a=r?r.length:0;for(n.finish=!0,m.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),m.each(["toggle","show","hide"],function(e,t){var n=m.fn[t];m.fn[t]=function(e,r,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(genFx(t,!0),e,r,o)}}),m.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){m.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),m.timers=[],m.fx.tick=function(){var e,t=0,n=m.timers;for(pe=m.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||m.fx.stop(),pe=void 0},m.fx.timer=function(e){m.timers.push(e),e()?m.fx.start():m.timers.pop()},m.fx.interval=13,m.fx.start=function(){ge||(ge=n.setInterval(m.fx.tick,m.fx.interval))},m.fx.stop=function(){n.clearInterval(ge),ge=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fn.delay=function(e,t){return e=m.fx?m.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,r){var o=n.setTimeout(t,e);r.stop=function(){n.clearTimeout(o)}})},function(){var e=s.createElement("input"),t=s.createElement("select"),n=t.appendChild(s.createElement("option"));e.type="checkbox",g.checkOn=""!==e.value,g.optSelected=n.selected,t.disabled=!0,g.optDisabled=!n.disabled,e=s.createElement("input"),e.value="t",e.type="radio",g.radioValue="t"===e.value}();var ye,we=m.expr.attrHandle;m.fn.extend({attr:function(e,t){return L(this,m.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){m.removeAttr(this,e)})}}),m.extend({attr:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?m.prop(e,t,n):(1===i&&m.isXMLDoc(e)||(t=t.toLowerCase(),o=m.attrHooks[t]||(m.expr.match.bool.test(t)?ye:void 0)),void 0!==n?null===n?void m.removeAttr(e,t):o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(r=o.get(e,t))?r:(r=m.find.attr(e,t),null==r?void 0:r))},attrHooks:{type:{set:function(e,t){if(!g.radioValue&&"radio"===t&&m.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r,o=0,i=t&&t.match(P);if(i&&1===e.nodeType)for(;n=i[o++];)r=m.propFix[n]||n,m.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)}}),ye={set:function(e,t,n){return!1===t?m.removeAttr(e,n):e.setAttribute(n,n),n}},m.each(m.expr.match.bool.source.match(/\w+/g),function(e,t){var n=we[t]||m.find.attr;we[t]=function(e,t,r){var o,i;return r||(i=we[t],we[t]=o,o=null!=n(e,t,r)?t.toLowerCase():null,we[t]=i),o}});var be=/^(?:input|select|textarea|button)$/i,xe=/^(?:a|area)$/i;m.fn.extend({prop:function(e,t){return L(this,m.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[m.propFix[e]||e]})}}),m.extend({prop:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&m.isXMLDoc(e)||(t=m.propFix[t]||t,o=m.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=m.find.attr(e,"tabindex");return t?parseInt(t,10):be.test(e.nodeName)||xe.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(m.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){m.propFix[this.toLowerCase()]=this});var Te=/[\t\r\n\f]/g;m.fn.extend({addClass:function(e){var t,n,r,o,i,a,s,u=0;if(m.isFunction(e))return this.each(function(t){m(this).addClass(e.call(this,t,getClass(this)))});if("string"==typeof e&&e)for(t=e.match(P)||[];n=this[u++];)if(o=getClass(n),r=1===n.nodeType&&(" "+o+" ").replace(Te," ")){for(a=0;i=t[a++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");s=m.trim(r),o!==s&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,o,i,a,s,u=0;if(m.isFunction(e))return this.each(function(t){m(this).removeClass(e.call(this,t,getClass(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(P)||[];n=this[u++];)if(o=getClass(n),r=1===n.nodeType&&(" "+o+" ").replace(Te," ")){for(a=0;i=t[a++];)for(;r.indexOf(" "+i+" ")>-1;)r=r.replace(" "+i+" "," ");s=m.trim(r),o!==s&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):m.isFunction(e)?this.each(function(n){m(this).toggleClass(e.call(this,n,getClass(this),t),t)}):this.each(function(){var t,r,o,i;if("string"===n)for(r=0,o=m(this),i=e.match(P)||[];t=i[r++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||(t=getClass(this),t&&R.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":R.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+getClass(n)+" ").replace(Te," ").indexOf(t)>-1)return!0;return!1}});var Ce=/\r/g,_e=/[\x20\t\r\n\f]+/g;m.fn.extend({val:function(e){var t,n,r,o=this[0];{if(arguments.length)return r=m.isFunction(e),this.each(function(n){var o;1===this.nodeType&&(o=r?e.call(this,n,m(this).val()):e,null==o?o="":"number"==typeof o?o+="":m.isArray(o)&&(o=m.map(o,function(e){return null==e?"":e+""})),(t=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))});if(o)return(t=m.valHooks[o.type]||m.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:(n=o.value,"string"==typeof n?n.replace(Ce,""):null==n?"":n)}}}),m.extend({valHooks:{option:{get:function(e){var t=m.find.attr(e,"value");return null!=t?t:m.trim(m.text(e)).replace(_e," ")}},select:{get:function(e){for(var t,n,r=e.options,o=e.selectedIndex,i="select-one"===e.type||o<0,a=i?null:[],s=i?o+1:r.length,u=o<0?s:i?o:0;u<s;u++)if(n=r[u],(n.selected||u===o)&&(g.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!m.nodeName(n.parentNode,"optgroup"))){if(t=m(n).val(),i)return t;a.push(t)}return a},set:function(e,t){for(var n,r,o=e.options,i=m.makeArray(t),a=o.length;a--;)r=o[a],(r.selected=m.inArray(m.valHooks.option.get(r),i)>-1)&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),m.each(["radio","checkbox"],function(){m.valHooks[this]={set:function(e,t){if(m.isArray(t))return e.checked=m.inArray(m(e).val(),t)>-1}},g.checkOn||(m.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Ee=/^(?:focusinfocus|focusoutblur)$/;m.extend(m.event,{trigger:function(e,t,r,o){var i,a,u,l,c,f,d,h=[r||s],g=p.call(e,"type")?e.type:e,v=p.call(e,"namespace")?e.namespace.split("."):[];if(a=u=r=r||s,3!==r.nodeType&&8!==r.nodeType&&!Ee.test(g+m.event.triggered)&&(g.indexOf(".")>-1&&(v=g.split("."),g=v.shift(),v.sort()),c=g.indexOf(":")<0&&"on"+g,e=e[m.expando]?e:new m.Event(g,"object"==typeof e&&e),e.isTrigger=o?2:3,e.namespace=v.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),t=null==t?[e]:m.makeArray(t,[e]),d=m.event.special[g]||{},o||!d.trigger||!1!==d.trigger.apply(r,t))){if(!o&&!d.noBubble&&!m.isWindow(r)){for(l=d.delegateType||g,Ee.test(l+g)||(a=a.parentNode);a;a=a.parentNode)h.push(a),u=a;u===(r.ownerDocument||s)&&h.push(u.defaultView||u.parentWindow||n)}for(i=0;(a=h[i++])&&!e.isPropagationStopped();)e.type=i>1?l:d.bindType||g,f=(R.get(a,"events")||{})[e.type]&&R.get(a,"handle"),f&&f.apply(a,t),(f=c&&a[c])&&f.apply&&M(a)&&(e.result=f.apply(a,t),!1===e.result&&e.preventDefault());return e.type=g,o||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(h.pop(),t)||!M(r)||c&&m.isFunction(r[g])&&!m.isWindow(r)&&(u=r[c],u&&(r[c]=null),m.event.triggered=g,r[g](),m.event.triggered=void 0,u&&(r[c]=u)),e.result}},simulate:function(e,t,n){var r=m.extend(new m.Event,n,{type:e,isSimulated:!0});m.event.trigger(r,null,t)}}),m.fn.extend({trigger:function(e,t){return this.each(function(){m.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return m.event.trigger(e,t,n,!0)}}),m.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){m.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),m.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),g.focusin="onfocusin"in n,g.focusin||m.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){m.event.simulate(t,e.target,m.event.fix(e))};m.event.special[t]={setup:function(){var r=this.ownerDocument||this,o=R.access(r,t);o||r.addEventListener(e,n,!0),R.access(r,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this,o=R.access(r,t)-1;o?R.access(r,t,o):(r.removeEventListener(e,n,!0),R.remove(r,t))}}});var ke=n.location,Se=m.now(),Ae=/\?/;m.parseJSON=function(e){return JSON.parse(e+"")},m.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||m.error("Invalid XML: "+e),t};var Ne=/#.*$/,De=/([?&])_=[^&]*/,Pe=/^(.*?):[ \t]*([^\r\n]*)$/gm,Oe=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Le=/^(?:GET|HEAD)$/,Me=/^\/\//,Re={},je={},Fe="*/".concat("*"),He=s.createElement("a");He.href=ke.href,m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ke.href,type:"GET",isLocal:Oe.test(ke.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Fe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":m.parseJSON,"text xml":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?ajaxExtend(ajaxExtend(e,m.ajaxSettings),t):ajaxExtend(m.ajaxSettings,e)},ajaxPrefilter:addToPrefiltersOrTransports(Re),ajaxTransport:addToPrefiltersOrTransports(je),ajax:function(e,t){function done(e,t,a,s){var l,f,w,b,T,_=t;2!==x&&(x=2,u&&n.clearTimeout(u),r=void 0,i=s||"",C.readyState=e>0?4:0,l=e>=200&&e<300||304===e,a&&(b=ajaxHandleResponses(d,C,a)),b=ajaxConvert(d,b,C,l),l?(d.ifModified&&(T=C.getResponseHeader("Last-Modified"),T&&(m.lastModified[o]=T),(T=C.getResponseHeader("etag"))&&(m.etag[o]=T)),204===e||"HEAD"===d.type?_="nocontent":304===e?_="notmodified":(_=b.state,f=b.data,w=b.error,l=!w)):(w=_,!e&&_||(_="error",e<0&&(e=0))),C.status=e,C.statusText=(t||_)+"",l?g.resolveWith(h,[f,_,C]):g.rejectWith(h,[C,_,w]),C.statusCode(y),y=void 0,c&&p.trigger(l?"ajaxSuccess":"ajaxError",[C,d,l?f:w]),v.fireWith(h,[C,_]),c&&(p.trigger("ajaxComplete",[C,d]),--m.active||m.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,o,i,a,u,l,c,f,d=m.ajaxSetup({},t),h=d.context||d,p=d.context&&(h.nodeType||h.jquery)?m(h):m.event,g=m.Deferred(),v=m.Callbacks("once memory"),y=d.statusCode||{},w={},b={},x=0,T="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!a)for(a={};t=Pe.exec(i);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?i:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=b[n]=b[n]||e,w[e]=t),this},overrideMimeType:function(e){return x||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(x<2)for(t in e)y[t]=[y[t],e[t]];else C.always(e[C.status]);return this},abort:function(e){var t=e||T;return r&&r.abort(t),done(0,t),this}};if(g.promise(C).complete=v.add,C.success=C.done,C.error=C.fail,d.url=((e||d.url||ke.href)+"").replace(Ne,"").replace(Me,ke.protocol+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=m.trim(d.dataType||"*").toLowerCase().match(P)||[""],null==d.crossDomain){l=s.createElement("a");try{l.href=d.url,l.href=l.href,d.crossDomain=He.protocol+"//"+He.host!=l.protocol+"//"+l.host}catch(e){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=m.param(d.data,d.traditional)),inspectPrefiltersOrTransports(Re,d,t,C),2===x)return C;c=m.event&&d.global,c&&0==m.active++&&m.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Le.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(Ae.test(o)?"&":"?")+d.data,delete d.data),!1===d.cache&&(d.url=De.test(o)?o.replace(De,"$1_="+Se++):o+(Ae.test(o)?"&":"?")+"_="+Se++)),d.ifModified&&(m.lastModified[o]&&C.setRequestHeader("If-Modified-Since",m.lastModified[o]),m.etag[o]&&C.setRequestHeader("If-None-Match",m.etag[o])),(d.data&&d.hasContent&&!1!==d.contentType||t.contentType)&&C.setRequestHeader("Content-Type",d.contentType),C.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Fe+"; q=0.01":""):d.accepts["*"]);for(f in d.headers)C.setRequestHeader(f,d.headers[f]);if(d.beforeSend&&(!1===d.beforeSend.call(h,C,d)||2===x))return C.abort();T="abort";for(f in{success:1,error:1,complete:1})C[f](d[f]);if(r=inspectPrefiltersOrTransports(je,d,t,C)){if(C.readyState=1,c&&p.trigger("ajaxSend",[C,d]),2===x)return C;d.async&&d.timeout>0&&(u=n.setTimeout(function(){C.abort("timeout")},d.timeout));try{x=1,r.send(w,done)}catch(e){if(!(x<2))throw e;done(-1,e)}}else done(-1,"No Transport");return C},getJSON:function(e,t,n){return m.get(e,t,n,"json")},getScript:function(e,t){return m.get(e,void 0,t,"script")}}),m.each(["get","post"],function(e,t){m[t]=function(e,n,r,o){return m.isFunction(n)&&(o=o||r,r=n,n=void 0),m.ajax(m.extend({url:e,type:t,dataType:o,data:n,success:r},m.isPlainObject(e)&&e))}}),m._evalUrl=function(e){return m.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},m.fn.extend({wrapAll:function(e){var t;return m.isFunction(e)?this.each(function(t){m(this).wrapAll(e.call(this,t))}):(this[0]&&(t=m(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return m.isFunction(e)?this.each(function(t){m(this).wrapInner(e.call(this,t))}):this.each(function(){var t=m(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=m.isFunction(e);return this.each(function(n){m(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){m.nodeName(this,"body")||m(this).replaceWith(this.childNodes)}).end()}}),m.expr.filters.hidden=function(e){return!m.expr.filters.visible(e)},m.expr.filters.visible=function(e){return e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0};var qe=/%20/g,Be=/\[\]$/,ze=/\r?\n/g,Ie=/^(?:submit|button|image|reset|file)$/i,We=/^(?:input|select|textarea|keygen)/i;m.param=function(e,t){var n,r=[],o=function(e,t){t=m.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=m.ajaxSettings&&m.ajaxSettings.traditional),m.isArray(e)||e.jquery&&!m.isPlainObject(e))m.each(e,function(){o(this.name,this.value)});else for(n in e)buildParams(n,e[n],t,o);return r.join("&").replace(qe,"+")},m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=m.prop(this,"elements");return e?m.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!m(this).is(":disabled")&&We.test(this.nodeName)&&!Ie.test(e)&&(this.checked||!W.test(e))}).map(function(e,t){var n=m(this).val();return null==n?null:m.isArray(n)?m.map(n,function(e){return{name:t.name,value:e.replace(ze,"\r\n")}}):{name:t.name,value:n.replace(ze,"\r\n")}}).get()}}),m.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var Ue={0:200,1223:204},$e=m.ajaxSettings.xhr();g.cors=!!$e&&"withCredentials"in $e,g.ajax=$e=!!$e,m.ajaxTransport(function(e){var t,r;if(g.cors||$e&&!e.crossDomain)return{send:function(o,i){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");for(a in o)s.setRequestHeader(a,o[a]);t=function(e){return function(){t&&(t=r=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?i(0,"error"):i(s.status,s.statusText):i(Ue[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),r=s.onerror=t("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout(function(){t&&r()})},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return m.globalEval(e),e}}}),m.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),m.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,o){t=m("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),s.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Xe=[],Ve=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Xe.pop()||m.expando+"_"+Se++;return this[e]=!0,e}}),m.ajaxPrefilter("json jsonp",function(e,t,r){var o,i,a,s=!1!==e.jsonp&&(Ve.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ve.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=m.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Ve,"$1"+o):!1!==e.jsonp&&(e.url+=(Ae.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return a||m.error(o+" was not called"),a[0]},e.dataTypes[0]="json",i=n[o],n[o]=function(){a=arguments},r.always(function(){void 0===i?m(n).removeProp(o):n[o]=i,e[o]&&(e.jsonpCallback=t.jsonpCallback,Xe.push(o)),a&&m.isFunction(i)&&i(a[0]),a=i=void 0}),"script"}),m.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||s;var r=E.exec(e),o=!n&&[];return r?[t.createElement(r[1])]:(r=buildFragment([e],t,o),o&&o.length&&m(o).remove(),m.merge([],r.childNodes))};var Ye=m.fn.load;m.fn.load=function(e,t,n){if("string"!=typeof e&&Ye)return Ye.apply(this,arguments);var r,o,i,a=this,s=e.indexOf(" ");return s>-1&&(r=m.trim(e.slice(s)),e=e.slice(0,s)),m.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&m.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){i=arguments,a.html(r?m("<div>").append(m.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,i||[e.responseText,t,e])})}),this},m.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){m.fn[t]=function(e){return this.on(t,e)}}),m.expr.filters.animated=function(e){return m.grep(m.timers,function(t){return e===t.elem}).length},m.offset={setOffset:function(e,t,n){var r,o,i,a,s,u,l,c=m.css(e,"position"),f=m(e),d={};"static"===c&&(e.style.position="relative"),s=f.offset(),i=m.css(e,"top"),u=m.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(i+u).indexOf("auto")>-1,l?(r=f.position(),a=r.top,o=r.left):(a=parseFloat(i)||0,o=parseFloat(u)||0),m.isFunction(t)&&(t=t.call(e,n,m.extend({},s))),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+o),"using"in t?t.using.call(e,d):f.css(d)}},m.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){m.offset.setOffset(this,e,t)});var t,n,r=this[0],o={top:0,left:0},i=r&&r.ownerDocument;if(i)return t=i.documentElement,m.contains(t,r)?(o=r.getBoundingClientRect(),n=getWindow(i),{top:o.top+n.pageYOffset-t.clientTop,left:o.left+n.pageXOffset-t.clientLeft}):o},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===m.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),m.nodeName(e[0],"html")||(r=e.offset()),r.top+=m.css(e[0],"borderTopWidth",!0),r.left+=m.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-m.css(n,"marginTop",!0),left:t.left-r.left-m.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===m.css(e,"position");)e=e.offsetParent;return e||ue})}}),m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;m.fn[e]=function(r){return L(this,function(e,r,o){var i=getWindow(e);if(void 0===o)return i?i[t]:e[r];i?i.scrollTo(n?i.pageXOffset:o,n?o:i.pageYOffset):e[r]=o},e,r,arguments.length)}}),m.each(["top","left"],function(e,t){m.cssHooks[t]=addGetHookIf(g.pixelPosition,function(e,n){if(n)return n=curCSS(e,t),ie.test(n)?m(e).position()[t]+"px":n})}),m.each({Height:"height",Width:"width"},function(e,t){m.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){m.fn[r]=function(r,o){var i=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===o?"margin":"border");return L(this,function(t,n,r){var o;return m.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===r?m.css(t,n,a):m.style(t,n,r,a)},t,i?r:void 0,i,null)}})}),m.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},size:function(){return this.length}}),m.fn.andSelf=m.fn.addBack,r=[],void 0!==(o=function(){return m}.apply(t,r))&&(e.exports=o);var Ke=n.jQuery,Ge=n.$;return m.noConflict=function(e){return n.$===m&&(n.$=Ge),e&&n.jQuery===m&&(n.jQuery=Ke),m},i||(n.jQuery=n.$=m),m})},function(e,t,n){"use strict";(function(e){function escapeHtml(e){return String(e).replace(/[&<>"'\/]/g,function(e){return i[e]})}function mousePosition(t){var n=e.document.body,o={top:0,left:0};return"static"!==r(n).css("position")&&(o=r(n).offset()),{top:t.pageY-o.top,left:t.pageX-o.left}}var r=n(0),o=n(17).Promise,i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"},a=function(){if("function"==typeof e.Gettext){var t=new e.Gettext({domain:"annotator"});return function(e){return t.gettext(e)}}return function(e){return e}}();t.$=r,t.Promise=o,t.gettext=a,t.escapeHtml=escapeHtml,t.mousePosition=mousePosition}).call(t,n(2))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";(function(e){function Widget(e){this.element=i(this.constructor.template),this.classes=i.extend({},Widget.classes,this.constructor.classes),this.options=i.extend({},Widget.options,this.constructor.options,e),this.extensionsInstalled=!1}var r=n(16),o=n(1),i=o.$;Widget.prototype.destroy=function(){this.element.remove()},Widget.prototype.installExtensions=function(){if(this.options.extensions)for(var e=0,t=this.options.extensions.length;e<t;e++){var n=this.options.extensions[e];n(this)}},Widget.prototype._maybeInstallExtensions=function(){this.extensionsInstalled||(this.extensionsInstalled=!0,this.installExtensions())},Widget.prototype.attach=function(){this.element.appendTo(this.options.appendTo),this._maybeInstallExtensions()},Widget.prototype.show=function(){this.element.removeClass(this.classes.hide),this.checkOrientation()},Widget.prototype.hide=function(){i(this.element).addClass(this.classes.hide)},Widget.prototype.isShown=function(){return!i(this.element).hasClass(this.classes.hide)},Widget.prototype.checkOrientation=function(){this.resetOrientation();var t=i(e),n=this.element.children(":first"),r=n.offset(),o={top:t.scrollTop(),right:t.width()+t.scrollLeft()},a={top:r.top,right:r.left+n.width()};return a.top-o.top<0&&this.invertY(),a.right-o.right>0&&this.invertX(),this},Widget.prototype.resetOrientation=function(){return this.element.removeClass(this.classes.invert.x).removeClass(this.classes.invert.y),this},Widget.prototype.invertX=function(){return this.element.addClass(this.classes.invert.x),this},Widget.prototype.invertY=function(){return this.element.addClass(this.classes.invert.y),this},Widget.prototype.isInvertedY=function(){return this.element.hasClass(this.classes.invert.y)},Widget.prototype.isInvertedX=function(){return this.element.hasClass(this.classes.invert.x)},Widget.classes={hide:"annotator-hide",invert:{x:"annotator-invert-x",y:"annotator-invert-y"}},Widget.template="<div></div>",Widget.options={appendTo:"body"},Widget.extend=r,t.Widget=Widget}).call(t,n(2))},function(e,t,n){var r;!function(o,i,a){function _addEvent(e,t,n){if(e.addEventListener)return void e.addEventListener(t,n,!1);e.attachEvent("on"+t,n)}function _characterFromEvent(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return u[e.which]?u[e.which]:l[e.which]?l[e.which]:String.fromCharCode(e.which).toLowerCase()}function _modifiersMatch(e,t){return e.sort().join(",")===t.sort().join(",")}function _eventModifiers(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}function _preventDefault(e){if(e.preventDefault)return void e.preventDefault();e.returnValue=!1}function _stopPropagation(e){if(e.stopPropagation)return void e.stopPropagation();e.cancelBubble=!0}function _isModifier(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function _getReverseMap(){if(!s){s={};for(var e in u)e>95&&e<112||u.hasOwnProperty(e)&&(s[u[e]]=e)}return s}function _pickBestAction(e,t,n){return n||(n=_getReverseMap()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function _keysFromString(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus"),e.split("+"))}function _getKeyInfo(e,t){var n,r,o,i=[];for(n=_keysFromString(e),o=0;o<n.length;++o)r=n[o],f[r]&&(r=f[r]),t&&"keypress"!=t&&c[r]&&(r=c[r],i.push("shift")),_isModifier(r)&&i.push(r);return t=_pickBestAction(r,i,t),{key:r,modifiers:i,action:t}}function _belongsTo(e,t){return null!==e&&e!==i&&(e===t||_belongsTo(e.parentNode,t))}function Mousetrap(e){function _resetSequences(e){e=e||{};var t,n=!1;for(t in r)e[t]?n=!0:r[t]=0;n||(s=!1)}function _getMatches(e,n,o,i,a,s){var u,l,c=[],f=o.type;if(!t._callbacks[e])return[];for("keyup"==f&&_isModifier(e)&&(n=[e]),u=0;u<t._callbacks[e].length;++u)if(l=t._callbacks[e][u],(i||!l.seq||r[l.seq]==l.level)&&f==l.action&&("keypress"==f&&!o.metaKey&&!o.ctrlKey||_modifiersMatch(n,l.modifiers))){var d=!i&&l.combo==a,h=i&&l.seq==i&&l.level==s;(d||h)&&t._callbacks[e].splice(u,1),c.push(l)}return c}function _fireCallback(e,n,r,o){t.stopCallback(n,n.target||n.srcElement,r,o)||!1===e(n,r)&&(_preventDefault(n),_stopPropagation(n))}function _handleKeyEvent(e){"number"!=typeof e.which&&(e.which=e.keyCode);var n=_characterFromEvent(e);if(n)return"keyup"==e.type&&o===n?void(o=!1):void t.handleKey(n,_eventModifiers(e),e)}function _resetSequenceTimer(){clearTimeout(n),n=setTimeout(_resetSequences,1e3)}function _bindSequence(e,t,n,i){function _callbackAndReset(t){_fireCallback(n,t,e),"keyup"!==i&&(o=_characterFromEvent(t)),setTimeout(_resetSequences,10)}r[e]=0;for(var a=0;a<t.length;++a){var u=a+1===t.length,l=u?_callbackAndReset:function(t){return function(){s=t,++r[e],_resetSequenceTimer()}}(i||_getKeyInfo(t[a+1]).action);_bindSingle(t[a],l,i,e,a)}}function _bindSingle(e,n,r,o,i){t._directMap[e+":"+r]=n,e=e.replace(/\s+/g," ");var a,s=e.split(" ");if(s.length>1)return void _bindSequence(e,s,n,r);a=_getKeyInfo(e,r),t._callbacks[a.key]=t._callbacks[a.key]||[],_getMatches(a.key,a.modifiers,{type:a.action},o,e,i),t._callbacks[a.key][o?"unshift":"push"]({callback:n,modifiers:a.modifiers,action:a.action,seq:o,level:i,combo:e})}var t=this;if(e=e||i,!(t instanceof Mousetrap))return new Mousetrap(e);t.target=e,t._callbacks={},t._directMap={};var n,r={},o=!1,a=!1,s=!1;t._handleKey=function(e,t,n){var r,o=_getMatches(e,t,n),i={},u=0,l=!1;for(r=0;r<o.length;++r)o[r].seq&&(u=Math.max(u,o[r].level));for(r=0;r<o.length;++r)if(o[r].seq){if(o[r].level!=u)continue;l=!0,i[o[r].seq]=1,_fireCallback(o[r].callback,n,o[r].combo,o[r].seq)}else l||_fireCallback(o[r].callback,n,o[r].combo);var c="keypress"==n.type&&a;n.type!=s||_isModifier(e)||c||_resetSequences(i),a=l&&"keydown"==n.type},t._bindMultiple=function(e,t,n){for(var r=0;r<e.length;++r)_bindSingle(e[r],t,n)},_addEvent(e,"keypress",_handleKeyEvent),_addEvent(e,"keydown",_handleKeyEvent),_addEvent(e,"keyup",_handleKeyEvent)}if(o){for(var s,u={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},l={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},c={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},f={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},d=1;d<20;++d)u[111+d]="f"+d;for(d=0;d<=9;++d)u[d+96]=d.toString();Mousetrap.prototype.bind=function(e,t,n){var r=this;return e=e instanceof Array?e:[e],r._bindMultiple.call(r,e,t,n),r},Mousetrap.prototype.unbind=function(e,t){var n=this;return n.bind.call(n,e,function(){},t)},Mousetrap.prototype.trigger=function(e,t){var n=this;return n._directMap[e+":"+t]&&n._directMap[e+":"+t]({},e),n},Mousetrap.prototype.reset=function(){var e=this;return e._callbacks={},e._directMap={},e},Mousetrap.prototype.stopCallback=function(e,t){var n=this;return!((" "+t.className+" ").indexOf(" mousetrap ")>-1)&&(!_belongsTo(t,n.target)&&("INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable))},Mousetrap.prototype.handleKey=function(){var e=this;return e._handleKey.apply(e,arguments)},Mousetrap.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(u[t]=e[t]);s=null},Mousetrap.init=function(){var e=Mousetrap(i);for(var t in e)"_"!==t.charAt(0)&&(Mousetrap[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},Mousetrap.init(),o.Mousetrap=Mousetrap,void 0!==e&&e.exports&&(e.exports=Mousetrap),void 0!==(r=function(){return Mousetrap}.call(t,n,t,e))&&(e.exports=r)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},function(e,t,n){"use strict";var r;t.acl=function(){var e=new r;return{configure:function(t){t.registerUtility(e,"authorizationPolicy")}}},r=t.AclAuthzPolicy=function(){},r.prototype.permits=function(e,t,n){var r=this.authorizedUserId(n),o=t.permissions;if(o){var i=o[e];if(void 0===i||null===i)return!0;for(var a=0,s=i.length;a<s;a++)if(r===i[a])return!0;return!1}return!t.user||r===t.user},r.prototype.authorizedUserId=function(e){return e}},function(e,t,n){"use strict";var r;t.simple=function(){var e=new r;return{configure:function(t){t.registerUtility(e,"identityPolicy")},beforeAnnotationCreated:function(t){t.user=e.who()}}},r=function(){this.identity=null},t.SimpleIdentityPolicy=r,r.prototype.who=function(){return this.identity}},function(e,t,n){"use strict";(function(e){function banner(t,n){void 0!==n&&null!==n||(n=i);var u=o(a)[0],l=!1,c=function(){l||(l=!0,o(u).removeClass(s.show).removeClass(s[n]),setTimeout(function(){o(u).remove()},500))};return o(u).addClass(s.show).addClass(s[n]).html(r.escapeHtml(t||"")).appendTo(e.document.body),o(u).on("click",c),setTimeout(c,5e3),{close:c}}var r=n(1),o=r.$,i="info",a="<div class='annotator-notice'></div>",s={show:"annotator-notice-show",info:"annotator-notice-info",success:"annotator-notice-success",error:"annotator-notice-error"};t.banner=banner,t.defaultNotifier=banner,t.INFO=i,t.SUCCESS="success",t.ERROR="error"}).call(t,n(2))},function(e,t,n){"use strict";function StorageAdapter(e,t){this.store=e,this.runHook=t}var r=n(1),o=r.$,i=r.gettext,a=r.Promise,s=function(){var e;return e=-1,function(){return e+=1}}();t.debug=function(){function trace(e,t){var n=JSON.parse(JSON.stringify(t));console.debug("annotator.storage.debug: "+e,n)}return{create:function(e){return e.id=s(),trace("create",e),e},update:function(e){return trace("update",e),e},delete:function(e){return trace("destroy",e),e},query:function(e){return trace("query",e),{results:[],meta:{total:0}}},configure:function(e){e.registerUtility(this,"storage")}}},t.noop=function(){return{create:function(e){return void 0!==e.id&&null!==e.id||(e.id=s()),e},update:function(e){return e},delete:function(e){return e},query:function(){return{results:[]}},configure:function(e){e.registerUtility(this,"storage")}}};var u;t.http=function(e){var t=function(){};void 0!==e&&null!==e||(e={}),e.onError=e.onError||function(e,n){console.error(e,n),t(e,"error")};var n=new u(e);return{configure:function(e){e.registerUtility(n,"storage")},start:function(e){t=e.notify}}},u=t.HttpStorage=function HttpStorage(e){this.options=o.extend(!0,{},HttpStorage.options,e),this.onError=this.options.onError},u.prototype.create=function(e){return this._apiRequest("create",e)},u.prototype.update=function(e){return this._apiRequest("update",e)},u.prototype.delete=function(e){return this._apiRequest("destroy",e)},u.prototype.query=function(e){return this._apiRequest("search",e).then(function(e){var t=e.rows;return delete e.rows,{results:t,meta:e}})},u.prototype.setHeader=function(e,t){this.options.headers[e]=t},u.prototype._apiRequest=function(e,t){var n=t&&t.id,r=this._urlFor(e,n),i=this._apiRequestOptions(e,t),a=o.ajax(r,i);return a._id=n,a._action=e,a},u.prototype._apiRequestOptions=function(e,t){var n=this._methodFor(e),r=this,i={type:n,dataType:"json",error:function(){r._onError.apply(r,arguments)},headers:this.options.headers};if(!this.options.emulateHTTP||"PUT"!==n&&"DELETE"!==n||(i.headers=o.extend(i.headers,{"X-HTTP-Method-Override":n}),i.type="POST"),"search"===e)return i=o.extend(i,{data:t});var a=t&&JSON.stringify(t);return this.options.emulateJSON?(i.data={json:a},this.options.emulateHTTP&&(i.data._method=n),i):i=o.extend(i,{data:a,contentType:"application/json; charset=utf-8"})},u.prototype._urlFor=function(e,t){void 0!==t&&null!==t||(t="");var n="";return void 0!==this.options.prefix&&null!==this.options.prefix&&(n=this.options.prefix),n+=this.options.urls[e],n=n.replace(/idAnnotation/,t)},u.prototype._methodFor=function(e){return{create:"POST",update:"PUT",destroy:"DELETE",search:"GET"}[e]},u.prototype._onError=function(e){if("function"==typeof this.onError){var t;t=i(400===e.status?"The annotation store did not understand the request! (Error 400)":401===e.status?"You must be logged in to perform this operation! (Error 401)":403===e.status?"You don't have permission to perform this operation! (Error 403)":404===e.status?"Could not connect to the annotation store! (Error 404)":500===e.status?"Internal error in annotation store! (Error 500)":"Unknown error while speaking to annotation store!"),this.onError(t,e)}},u.options={emulateHTTP:!1,emulateJSON:!1,headers:{},onError:function(e){console.error("API request failed: "+e)},prefix:"/store",urls:{create:"/annotations",update:"/annotations/idAnnotation",destroy:"/annotations/idAnnotation",search:"/search"}},StorageAdapter.prototype.create=function(e){return void 0!==e&&null!==e||(e={}),this._cycle(e,"create","beforeAnnotationCreated","annotationCreated")},StorageAdapter.prototype.update=function(e){if(void 0===e.id||null===e.id)throw new TypeError("annotation must have an id for update()");return this._cycle(e,"update","beforeAnnotationUpdated","annotationUpdated")},StorageAdapter.prototype.delete=function(e){if(void 0===e.id||null===e.id)throw new TypeError("annotation must have an id for delete()");return this._cycle(e,"delete","beforeAnnotationDeleted","annotationDeleted")},StorageAdapter.prototype.query=function(e){return a.resolve(this.store.query(e))},StorageAdapter.prototype.load=function(e){var t=this;return this.query(e).then(function(e){t.runHook("annotationsLoaded",[e.results])})},StorageAdapter.prototype._cycle=function(e,t,n,r){var i=this;return this.runHook(n,[e]).then(function(){var n=o.extend(!0,{},e);delete n._local;var r=i.store[t](n);return a.resolve(r)}).then(function(t){for(var n in e)e.hasOwnProperty(n)&&"_local"!==n&&delete e[n];return o.extend(e,t),i.runHook(r,[e]),e})},t.StorageAdapter=StorageAdapter},function(e,t,n){"use strict";var r=n(3).Widget,o=n(1),i=o.$,a=o.gettext,s="annotator-adder",u=r.extend({constructor:function(e){r.call(this,e),this.ignoreMouseup=!1,this.annotation=null,this.onCreate=this.options.onCreate;var t=this;this.element.on("click."+s,"button",function(e){t._onClick(e)}).on("mousedown."+s,"button",function(e){t._onMousedown(e)}),this.document=this.element[0].ownerDocument,i(this.document.body).on("mouseup."+s,function(e){t._onMouseup(e)})},destroy:function(){this.element.off("."+s),i(this.document.body).off("."+s),r.prototype.destroy.call(this)},load:function(e,t){this.annotation=e,this.show(t)},show:function(e){void 0!==e&&null!==e&&this.element.css({top:e.top,left:e.left}),r.prototype.show.call(this)},_onMousedown:function(e){e.which>1||(e.preventDefault(),this.ignoreMouseup=!0)},_onMouseup:function(e){e.which>1||this.ignoreMouseup&&e.stopImmediatePropagation()},_onClick:function(e){e.which>1||(e.preventDefault(),this.hide(),this.ignoreMouseup=!1,null!==this.annotation&&"function"==typeof this.onCreate&&this.onCreate(this.annotation,e))}});u.template=['<div class="annotator-adder annotator-hide">','  <button type="button">'+a("Annotate")+"</button>","</div>"].join("\n"),u.options={onCreate:null},t.Adder=u},function(e,t,n){"use strict";function preventEventDefault(e){void 0!==e&&null!==e&&"function"==typeof e.preventDefault&&e.preventDefault()}var r=n(3).Widget,o=n(1),i=o.$,a=o.gettext,s=o.Promise,u="annotator-editor",l=function(){var e;return e=-1,function(){return e+=1}}(),c=t.dragTracker=function(e,t){function mouseMove(e){if(!r&&null!==n){var o={y:e.pageY-n.top,x:e.pageX-n.left},i=!0;"function"==typeof t&&(i=t(o)),!1!==i&&(n={top:e.pageY,left:e.pageX}),r=!0,setTimeout(function(){r=!1},1e3/60)}}function mouseUp(){n=null,i(e.ownerDocument).off("mouseup",mouseUp).off("mousemove",mouseMove)}function mouseDown(t){t.target===e&&(n={top:t.pageY,left:t.pageX},i(e.ownerDocument).on("mouseup",mouseUp).on("mousemove",mouseMove),t.preventDefault())}function destroy(){i(e).off("mousedown",mouseDown)}var n=null,r=!1;return i(e).on("mousedown",mouseDown),{destroy:destroy}},f=t.resizer=function(e,t,n){function translate(e){var t=1,r=-1;return"function"==typeof n.invertedX&&n.invertedX()&&(t=-1),"function"==typeof n.invertedY&&n.invertedY()&&(r=1),{x:e.x*t,y:e.y*r}}function resize(e){var t=r.height(),n=r.width(),o=translate(e);return Math.abs(o.x)>0&&r.width(n+o.x),Math.abs(o.y)>0&&r.height(t+o.y),r.height()!==t||r.width()!==n}var r=i(e);return void 0!==n&&null!==n||(n={}),c(t,resize)},d=t.mover=function(e,t){function move(t){i(e).css({top:parseInt(i(e).css("top"),10)+t.y,left:parseInt(i(e).css("left"),10)+t.x})}return c(t,move)},h=t.Editor=r.extend({constructor:function(e){r.call(this,e),this.fields=[],this.annotation={},this.options.defaultFields&&this.addField({type:"textarea",label:a("Comments")+"…",load:function(e,t){i(e).find("textarea").val(t.text||"")},submit:function(e,t){t.text=i(e).find("textarea").val()}});var t=this;this.element.on("submit."+u,"form",function(e){t._onFormSubmit(e)}).on("click."+u,".annotator-save",function(e){t._onSaveClick(e)}).on("click."+u,".annotator-cancel",function(e){t._onCancelClick(e)}).on("mouseover."+u,".annotator-cancel",function(e){t._onCancelMouseover(e)}).on("keydown."+u,"textarea",function(e){t._onTextareaKeydown(e)})},destroy:function(){this.element.off("."+u),r.prototype.destroy.call(this)},show:function(e){void 0!==e&&null!==e&&this.element.css({top:e.top,left:e.left}),this.element.find(".annotator-save").addClass(this.classes.focus),r.prototype.show.call(this),this.element.find(":input:first").focus(),this._setupDraggables()},load:function(e,t){this.annotation=e;for(var n=0,r=this.fields.length;n<r;n++){var o=this.fields[n];o.load(o.element,this.annotation)}var i=this;return new s(function(e,n){i.dfd={resolve:e,reject:n},i.show(t)})},submit:function(){for(var e=0,t=this.fields.length;e<t;e++){var n=this.fields[e];n.submit(n.element,this.annotation)}void 0!==this.dfd&&null!==this.dfd&&this.dfd.resolve(),this.hide()},cancel:function(){void 0!==this.dfd&&null!==this.dfd&&this.dfd.reject("editing cancelled"),this.hide()},addField:function(e){var t=i.extend({id:"annotator-field-"+l(),type:"input",label:"",load:function(){},submit:function(){}},e),n=null,r=i('<li class="annotator-item" />');return t.element=r[0],"textarea"===t.type?n=i("<textarea />"):"checkbox"===t.type?n=i('<input type="checkbox" />'):"input"===t.type?n=i("<input />"):"select"===t.type&&(n=i("<select />")),r.append(n),n.attr({id:t.id,placeholder:t.label}),"checkbox"===t.type&&(r.addClass("annotator-checkbox"),r.append(i("<label />",{for:t.id,html:t.label}))),this.element.find("ul:first").append(r),this.fields.push(t),t.element},checkOrientation:function(){r.prototype.checkOrientation.call(this);var e=this.element.find("ul").first(),t=this.element.find(".annotator-controls");return this.element.hasClass(this.classes.invert.y)?t.insertBefore(e):t.is(":first-child")&&t.insertAfter(e),this},_onFormSubmit:function(e){preventEventDefault(e),this.submit()},_onSaveClick:function(e){preventEventDefault(e),this.submit()},_onCancelClick:function(e){preventEventDefault(e),this.cancel()},_onCancelMouseover:function(){this.element.find("."+this.classes.focus).removeClass(this.classes.focus)},_onTextareaKeydown:function(e){27===e.which?this.cancel():13!==e.which||e.shiftKey||this.submit()},_setupDraggables:function(){void 0!==this._resizer&&null!==this._resizer&&this._resizer.destroy(),void 0!==this._mover&&null!==this._mover&&this._mover.destroy(),this.element.find(".annotator-resize").remove();var e;(e=this.element.hasClass(this.classes.invert.y)?this.element.find(".annotator-item:last"):this.element.find(".annotator-item:first"))&&i('<span class="annotator-resize"></span>').appendTo(e);var t=this.element.find(".annotator-controls")[0],n=this.element.find("textarea:first")[0],r=this.element.find(".annotator-resize")[0],o=this;this._resizer=f(n,r,{invertedX:function(){return o.element.hasClass(o.classes.invert.x)},invertedY:function(){return o.element.hasClass(o.classes.invert.y)}}),this._mover=d(this.element[0],t)}});h.classes={hide:"annotator-hide",focus:"annotator-focus"},h.template=['<div class="annotator-outer annotator-editor annotator-hide">','  <form class="annotator-widget">','    <ul class="annotator-listing"></ul>','    <div class="annotator-controls">','     <a href="#cancel" class="annotator-cancel">'+a("Cancel")+"</a>",'      <a href="#save"','         class="annotator-save annotator-focus">'+a("Save")+"</a>","    </div>","  </form>","</div>"].join("\n"),h.options={defaultFields:!0},t.standalone=function(e){var n=new t.Editor(e);return{destroy:function(){n.destroy()},beforeAnnotationCreated:function(e){return n.load(e)},beforeAnnotationUpdated:function(e){return n.load(e)}}}},function(e,t,n){"use strict";(function(e){function highlightRange(t,n){void 0!==n&&null!==n||(n="annotator-hl");for(var r=/^\s*$/,o=t.textNodes(),i=[],a=0,s=o.length;a<s;a++){var u=o[a];if(!r.test(u.nodeValue)){var l=e.document.createElement("span");l.className=n,u.parentNode.replaceChild(l,u),l.appendChild(u),i.push(l)}}return i}function reanchorRange(e,t){try{return r.Range.sniff(e).normalize(t)}catch(e){if(!(e instanceof r.Range.RangeError))throw e}return null}var r=n(18),o=n(1),i=o.$,a=o.Promise,s=t.Highlighter=function Highlighter(e,t){this.element=e,this.options=i.extend(!0,{},Highlighter.options,t)};s.prototype.destroy=function(){i(this.element).find("."+this.options.highlightClass).each(function(e,t){i(t).contents().insertBefore(t),i(t).remove()})},s.prototype.drawAll=function(e){var t=this;return new a(function(n){function loader(e){void 0!==e&&null!==e||(e=[]);for(var o=e.splice(0,t.options.chunkSize),i=0,a=o.length;i<a;i++)r=r.concat(t.draw(o[i]));e.length>0?setTimeout(function(){loader(e)},t.options.chunkDelay):n(r)}var r=[];loader(e.slice())})},s.prototype.draw=function(e){for(var t=[],n=0,r=e.ranges.length;n<r;n++){var o=reanchorRange(e.ranges[n],this.element);null!==o&&t.push(o)}void 0!==e._local&&null!==e._local||(e._local={}),void 0!==e._local.highlights&&null===e._local.highlights||(e._local.highlights=[]);for(var a=0,s=t.length;a<s;a++){var u=t[a];i.merge(e._local.highlights,highlightRange(u,this.options.highlightClass))}return i(e._local.highlights).data("annotation",e),void 0!==e.id&&null!==e.id&&i(e._local.highlights).attr("data-annotation-id",e.id),e._local.highlights},s.prototype.undraw=function(e){if(void 0!==e._local&&null!==e._local&&void 0!==e._local.highlights&&null!==e._local.highlights){for(var t=0,n=e._local.highlights.length;t<n;t++){var r=e._local.highlights[t];null!==r.parentNode&&i(r).replaceWith(r.childNodes)}delete e._local.highlights}},s.prototype.redraw=function(e){return this.undraw(e),this.draw(e)},s.options={highlightClass:"annotator-hl",chunkSize:10,chunkDelay:10},t.standalone=function(e,n){var r=t.Highlighter(e,n);return{destroy:function(){r.destroy()},annotationsLoaded:function(e){r.drawAll(e)},annotationCreated:function(e){r.draw(e)},annotationDeleted:function(e){r.undraw(e)},annotationUpdated:function(e){r.redraw(e)}}}}).call(t,n(2))},function(e,t,n){"use strict";(function(e){function isAnnotator(e){return 0!==i(e).parents().addBack().filter("[class^=annotator-]").length}function TextSelector(e,t){if(this.element=e,this.options=i.extend(!0,{},TextSelector.options,t),this.onSelection=this.options.onSelection,void 0!==this.element.ownerDocument&&null!==this.element.ownerDocument){var n=this;this.document=this.element.ownerDocument,i(this.document.body).on("mouseup."+a,function(e){n._checkForEndSelection(e)})}else console.warn("You created an instance of the TextSelector on an element that doesn't have an ownerDocument. This won't work! Please ensure the element is added to the DOM before the plugin is configured:",this.element)}var r=n(18),o=n(1),i=o.$,a="annotator-textselector";TextSelector.prototype.destroy=function(){this.document&&i(this.document.body).off("."+a)},TextSelector.prototype.captureDocumentSelection=function(){var t,n,o=[],i=[],a=e.getSelection();if(a.isCollapsed)return[];for(t=0;t<a.rangeCount;t++){var s=a.getRangeAt(t),u=new r.Range.BrowserRange(s),l=u.normalize().limit(this.element);null===l?i.push(s):o.push(l)}for(a.removeAllRanges(),t=0,n=i.length;t<n;t++)a.addRange(i[t]);for(t=0,n=o.length;t<n;t++){var c=o[t],f=this.document.createRange();f.setStartBefore(c.start),f.setEndAfter(c.end),a.addRange(f)}return o},TextSelector.prototype._checkForEndSelection=function(e){var t=this,n=function(){"function"==typeof t.onSelection&&t.onSelection([],e)},r=this.captureDocumentSelection();if(0===r.length)return void n();for(var o=0,a=r.length;o<a;o++){var s=r[o].commonAncestor;if(i(s).hasClass("annotator-hl")&&(s=i(s).parents("[class!=annotator-hl]")[0]),isAnnotator(s))return void n()}"function"==typeof this.onSelection&&this.onSelection(r,e)},TextSelector.options={onSelection:null},t.TextSelector=TextSelector}).call(t,n(2))},function(e,t,n){"use strict";function parseLinks(e,t,n){n=i.extend({},n,{rel:t});for(var r=[],o=0,a=e.length;o<a;o++){var s=e[o],u=!0;for(var l in n)if(n.hasOwnProperty(l)&&s[l]!==n[l]){u=!1;break}u&&r.push(s)}return r}var r=n(3).Widget,o=n(1),i=o.$,a=o.gettext,s="annotator-viewer",u=t.Viewer=r.extend({constructor:function(e){r.call(this,e),this.itemTemplate=u.itemTemplate,this.fields=[],this.annotations=[],this.hideTimer=null,this.hideTimerDfd=null,this.hideTimerActivity=null,this.mouseDown=!1,this.render=function(e){return e.text?o.escapeHtml(e.text):"<i>"+a("No comment")+"</i>"};var t=this;if(this.options.defaultFields&&this.addField({load:function(e,n){i(e).html(t.render(n))}}),"function"!=typeof this.options.onEdit)throw new TypeError("onEdit callback must be a function");if("function"!=typeof this.options.onDelete)throw new TypeError("onDelete callback must be a function");if("function"!=typeof this.options.permitEdit)throw new TypeError("permitEdit callback must be a function");if("function"!=typeof this.options.permitDelete)throw new TypeError("permitDelete callback must be a function");this.options.autoViewHighlights&&(this.document=this.options.autoViewHighlights.ownerDocument,i(this.options.autoViewHighlights).on("mouseover."+s,".annotator-hl",function(e){e.target===this&&t._onHighlightMouseover(e)}).on("mouseleave."+s,".annotator-hl",function(){t._startHideTimer()}),i(this.document.body).on("mousedown."+s,function(e){1===e.which&&(t.mouseDown=!0)}).on("mouseup."+s,function(e){1===e.which&&(t.mouseDown=!1)})),this.element.on("click."+s,".annotator-edit",function(e){t._onEditClick(e)}).on("click."+s,".annotator-delete",function(e){t._onDeleteClick(e)}).on("mouseenter."+s,function(){t._clearHideTimer()}).on("mouseleave."+s,function(){t._startHideTimer()})},destroy:function(){this.options.autoViewHighlights&&(i(this.options.autoViewHighlights).off("."+s),i(this.document.body).off("."+s)),this.element.off("."+s),r.prototype.destroy.call(this)},show:function(e){void 0!==e&&null!==e&&this.element.css({top:e.top,left:e.left});var t=this.element.find(".annotator-controls").addClass(this.classes.showControls),n=this;setTimeout(function(){t.removeClass(n.classes.showControls)},500),r.prototype.show.call(this)},load:function(e,t){this.annotations=e||[];for(var n=this.element.find("ul:first").empty(),r=0,o=this.annotations.length;r<o;r++){var i=this.annotations[r];this._annotationItem(i).appendTo(n).data("annotation",i)}this.show(t)},setRenderer:function(e){this.render=e},_annotationItem:function(e){var t=i(this.itemTemplate).clone(),n=t.find(".annotator-controls"),r=n.find(".annotator-link"),o=n.find(".annotator-edit"),a=n.find(".annotator-delete"),s=parseLinks(e.links||[],"alternate",{type:"text/html"});s.length>0&&void 0!==s[0].href&&null!==s[0].href?r.attr("href",s[0].href):r.remove();var u={};this.options.permitEdit(e)?(u.showEdit=function(){o.removeAttr("disabled")},u.hideEdit=function(){o.attr("disabled","disabled")}):o.remove(),this.options.permitDelete(e)?(u.showDelete=function(){a.removeAttr("disabled")},u.hideDelete=function(){a.attr("disabled","disabled")}):a.remove();for(var l=0,c=this.fields.length;l<c;l++){var f=this.fields[l],d=i(f.element).clone().appendTo(t)[0];f.load(d,e,u)}return t},addField:function(e){var t=i.extend({load:function(){}},e);return t.element=i("<div />")[0],this.fields.push(t),this},_onEditClick:function(e){var t=i(e.target).parents(".annotator-annotation").data("annotation");this.hide(),this.options.onEdit(t)},_onDeleteClick:function(e){if(window.confirm(a("Delete this annotation?"))){var t=i(e.target).parents(".annotator-annotation").data("annotation");this.hide(),this.options.onDelete(t)}},_onHighlightMouseover:function(e){if(!this.mouseDown){var t=this;this._startHideTimer(!0).done(function(){var n=i(e.target).parents(".annotator-hl").addBack().map(function(e,t){return i(t).data("annotation")}).toArray();t.load(n,o.mousePosition(e))})}},_startHideTimer:function(e){if(void 0!==e&&null!==e||(e=!1),this.hideTimer){if(!1===e||this.hideTimerActivity===e)return this.hideTimerDfd;this._clearHideTimer()}var t;if(t=e?this.options.activityDelay:this.options.inactivityDelay,this.hideTimerDfd=i.Deferred(),this.isShown()){var n=this;this.hideTimer=setTimeout(function(){n.hide(),n.hideTimerDfd.resolve(),n.hideTimer=null},t),this.hideTimerActivity=Boolean(e)}else this.hideTimer=null,this.hideTimerDfd.resolve(),this.hideTimerActivity=null;return this.hideTimerDfd.promise()},_clearHideTimer:function(){clearTimeout(this.hideTimer),this.hideTimer=null,this.hideTimerDfd.reject(),this.hideTimerActivity=null}});u.classes={showControls:"annotator-visible"},u.template=['<div class="annotator-outer annotator-viewer annotator-hide">','  <ul class="annotator-widget annotator-listing"></ul>',"</div>"].join("\n"),u.itemTemplate=['<li class="annotator-annotation annotator-item">','  <span class="annotator-controls">','    <a href="#"','       title="'+a("View as webpage")+'"','       class="annotator-link">'+a("View as webpage")+"</a>",'    <button type="button"','            title="'+a("Edit")+'"','            class="annotator-edit">'+a("Edit")+"</button>",'    <button type="button"','            title="'+a("Delete")+'"','            class="annotator-delete">'+a("Delete")+"</button>","  </span>","</li>"].join("\n"),u.options={defaultFields:!0,inactivityDelay:500,activityDelay:100,permitEdit:function(){return!1},permitDelete:function(){return!1},autoViewHighlights:null,onEdit:function(){},onDelete:function(){}},t.standalone=function(e){var n;return void 0!==e&&null!==e||(e={}),{start:function(r){var o=r.registry.getUtility("identityPolicy"),i=r.registry.getUtility("authorizationPolicy");void 0===e.onEdit&&(e.onEdit=function(e){r.annotations.update(e)}),void 0===e.onDelete&&(e.onDelete=function(e){r.annotations.delete(e)}),void 0===e.permitEdit&&(e.permitEdit=function(e){return i.permits("update",e,o.who())}),void 0===e.permitDelete&&(e.permitDelete=function(e){return i.permits("delete",e,o.who())}),n=new t.Viewer(e)},destroy:function(){n.destroy()}}}},function(e,t,n){"use strict"},function(e,t,n){"use strict";var r=n(4),o=function(e){return e&&e.__esModule?e:{default:e}}(r);o.default.bind("g u",function(){window.location.href=Routing.generate("homepage")}),o.default.bind("g s",function(){window.location.href=Routing.generate("starred")}),o.default.bind("g r",function(){window.location.href=Routing.generate("archive")}),o.default.bind("g a",function(){window.location.href=Routing.generate("all")}),o.default.bind("g t",function(){window.location.href=Routing.generate("tag")}),o.default.bind("g c",function(){window.location.href=Routing.generate("config")}),o.default.bind("g i",function(){window.location.href=Routing.generate("import")}),o.default.bind("g d",function(){window.location.href=Routing.generate("developer")}),o.default.bind("?",function(){window.location.href=Routing.generate("howto")}),o.default.bind("g l",function(){window.location.href=Routing.generate("fos_user_security_logout")})},function(e,t,n){!function(t){e.exports=t()}(function(){"use strict";var e={has:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},extend:function(e){for(var t=1;t<arguments.length;++t){var n=arguments[t];if(n)for(var r in n)e[r]=n[r]}return e}};return function(t,n){var r,o=this;r=t&&e.has(t,"constructor")?t.constructor:function(){return o.apply(this,arguments)},e.extend(r,o,n);var i=function(){this.constructor=r};return i.prototype=o.prototype,r.prototype=new i,t&&e.extend(r.prototype,t),r.__super__=o.prototype,r}})},function(e,t,n){(function(t,r){!function(t,n){e.exports=n()}(0,function(){"use strict";function objectOrFunction(e){return"function"==typeof e||"object"==typeof e&&null!==e}function isFunction(e){return"function"==typeof e}function setScheduler(e){s=e}function setAsap(e){u=e}function useVertxTimer(){return function(){a(flush)}}function useSetTimeout(){var e=setTimeout;return function(){return e(flush,1)}}function flush(){for(var e=0;e<i;e+=2){(0,p[e])(p[e+1]),p[e]=void 0,p[e+1]=void 0}i=0}function then(e,t){var n=arguments,r=this,o=new this.constructor(noop);void 0===o[m]&&makePromise(o);var i=r._state;return i?function(){var e=n[i-1];u(function(){return invokeCallback(i,o,e,r._result)})}():subscribe(r,o,e,t),o}function resolve(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(noop);return _resolve(n,e),n}function noop(){}function selfFulfillment(){return new TypeError("You cannot resolve a promise with itself")}function cannotReturnOwn(){return new TypeError("A promises callback cannot return that same promise.")}function getThen(e){try{return e.then}catch(e){return b.error=e,b}}function tryThen(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}function handleForeignThenable(e,t,n){u(function(e){var r=!1,o=tryThen(n,t,function(n){r||(r=!0,t!==n?_resolve(e,n):fulfill(e,n))},function(t){r||(r=!0,_reject(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&o&&(r=!0,_reject(e,o))},e)}function handleOwnThenable(e,t){t._state===y?fulfill(e,t._result):t._state===w?_reject(e,t._result):subscribe(t,void 0,function(t){return _resolve(e,t)},function(t){return _reject(e,t)})}function handleMaybeThenable(e,t,n){t.constructor===e.constructor&&n===then&&t.constructor.resolve===resolve?handleOwnThenable(e,t):n===b?_reject(e,b.error):void 0===n?fulfill(e,t):isFunction(n)?handleForeignThenable(e,t,n):fulfill(e,t)}function _resolve(e,t){e===t?_reject(e,selfFulfillment()):objectOrFunction(t)?handleMaybeThenable(e,t,getThen(t)):fulfill(e,t)}function publishRejection(e){e._onerror&&e._onerror(e._result),publish(e)}function fulfill(e,t){e._state===v&&(e._result=t,e._state=y,0!==e._subscribers.length&&u(publish,e))}function _reject(e,t){e._state===v&&(e._state=w,e._result=t,u(publishRejection,e))}function subscribe(e,t,n,r){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+y]=n,o[i+w]=r,0===i&&e._state&&u(publish,e)}function publish(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,o=void 0,i=e._result,a=0;a<t.length;a+=3)r=t[a],o=t[a+n],r?invokeCallback(n,r,o,i):o(i);e._subscribers.length=0}}function ErrorObject(){this.error=null}function tryCatch(e,t){try{return e(t)}catch(e){return x.error=e,x}}function invokeCallback(e,t,n,r){var o=isFunction(n),i=void 0,a=void 0,s=void 0,u=void 0;if(o){if(i=tryCatch(n,r),i===x?(u=!0,a=i.error,i=null):s=!0,t===i)return void _reject(t,cannotReturnOwn())}else i=r,s=!0;t._state!==v||(o&&s?_resolve(t,i):u?_reject(t,a):e===y?fulfill(t,i):e===w&&_reject(t,i))}function initializePromise(e,t){try{t(function(t){_resolve(e,t)},function(t){_reject(e,t)})}catch(t){_reject(e,t)}}function nextId(){return T++}function makePromise(e){e[m]=T++,e._state=void 0,e._result=void 0,e._subscribers=[]}function Enumerator(e,t){this._instanceConstructor=e,this.promise=new e(noop),this.promise[m]||makePromise(this.promise),o(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?fulfill(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&fulfill(this.promise,this._result))):_reject(this.promise,validationError())}function validationError(){return new Error("Array Methods must be provided an Array")}function all(e){return new Enumerator(this,e).promise}function race(e){var t=this;return new t(o(e)?function(n,r){for(var o=e.length,i=0;i<o;i++)t.resolve(e[i]).then(n,r)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function reject(e){var t=this,n=new t(noop);return _reject(n,e),n}function needsResolver(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function needsNew(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function Promise(e){this[m]=nextId(),this._result=this._state=void 0,this._subscribers=[],noop!==e&&("function"!=typeof e&&needsResolver(),this instanceof Promise?initializePromise(this,e):needsNew())}function polyfill(){var e=void 0;if(void 0!==r)e=r;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=Promise}var e=void 0;e=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var o=e,i=0,a=void 0,s=void 0,u=function(e,t){p[i]=e,p[i+1]=t,2===(i+=2)&&(s?s(flush):g())},l="undefined"!=typeof window?window:void 0,c=l||{},f=c.MutationObserver||c.WebKitMutationObserver,d="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),h="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,p=new Array(1e3),g=void 0;g=d?function(){return function(){return t.nextTick(flush)}}():f?function(){var e=0,t=new f(flush),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():h?function(){var e=new MessageChannel;return e.port1.onmessage=flush,function(){return e.port2.postMessage(0)}}():void 0===l?function(){try{var e=n(39);return a=e.runOnLoop||e.runOnContext,useVertxTimer()}catch(e){return useSetTimeout()}}():useSetTimeout();var m=Math.random().toString(36).substring(16),v=void 0,y=1,w=2,b=new ErrorObject,x=new ErrorObject,T=0;return Enumerator.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;this._state===v&&n<e;n++)this._eachEntry(t[n],n)},Enumerator.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===resolve){var o=getThen(e);if(o===then&&e._state!==v)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(n===Promise){var i=new n(noop);handleMaybeThenable(i,e,o),this._willSettleAt(i,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},Enumerator.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===v&&(this._remaining--,e===w?_reject(r,n):this._result[t]=n),0===this._remaining&&fulfill(r,this._result)},Enumerator.prototype._willSettleAt=function(e,t){var n=this;subscribe(e,void 0,function(e){return n._settledAt(y,t,e)},function(e){return n._settledAt(w,t,e)})},Promise.all=all,Promise.race=race,Promise.resolve=resolve,Promise.reject=reject,Promise._setScheduler=setScheduler,Promise._setAsap=setAsap,Promise._asap=u,Promise.prototype={constructor:Promise,then:then,catch:function(e){return this.then(null,e)}},polyfill(),Promise.polyfill=polyfill,Promise.Promise=Promise,Promise})}).call(t,n(37),n(2))},function(e,t,n){(function(){e.exports={xpath:n(20),Range:n(38)}}).call(this)},function(e,t,n){(function(){var t,r;t=n(0),r={},r.NodeTypes={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},r.getFirstTextNodeNotBefore=function(e){var t;switch(e.nodeType){case r.NodeTypes.TEXT_NODE:return e;case r.NodeTypes.ELEMENT_NODE:if(null!=e.firstChild&&null!=(t=r.getFirstTextNodeNotBefore(e.firstChild)))return t}return e=e.nextSibling,null!=e?r.getFirstTextNodeNotBefore(e):null},r.getLastTextNodeUpTo=function(e){var t;switch(e.nodeType){case r.NodeTypes.TEXT_NODE:return e;case r.NodeTypes.ELEMENT_NODE:if(null!=e.lastChild&&null!=(t=r.getLastTextNodeUpTo(e.lastChild)))return t}return e=e.previousSibling,null!=e?r.getLastTextNodeUpTo(e):null},r.getTextNodes=function(e){var t;return t=function(e){var n;if(e&&e.nodeType!==r.NodeTypes.TEXT_NODE){if(n=[],e.nodeType!==r.NodeTypes.COMMENT_NODE)for(e=e.lastChild;e;)n.push(t(e)),e=e.previousSibling;return n.reverse()}return e},e.map(function(){return r.flatten(t(this))})},r.getGlobal=function(){return function(){return this}()},r.contains=function(e,t){var n;for(n=t;null!=n;){if(n===e)return!0;n=n.parentNode}return!1},r.flatten=function(e){var n;return(n=function(e){var r,o,i,a;for(o=[],i=0,a=e.length;i<a;i++)r=e[i],o=o.concat(r&&t.isArray(r)?n(r):r);return o})(e)},e.exports=r}).call(this)},function(e,t,n){(function(){var t,r,o,i,a,s,u,l,c,f;t=n(0),r=n(19),o=function(e,t,n){var r,o,a,s,u,l,c,f;null==t&&(t=document),null==n&&(n=null);try{return document.evaluate("."+e,t,n,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}catch(n){for(n,console.log("XPath evaluation failed."),console.log("Trying fallback..."),u=e.substring(1).split("/"),a=t,l=0,c=u.length;l<c;l++)s=u[l],f=s.split("["),o=f[0],r=f[1],r=null!=r?parseInt((null!=r?r.split("]"):void 0)[0]):1,a=i(a,o.toLowerCase(),r);return a}},l=function(e,n){var o;return o=e.map(function(){var e,o,i,a;for(i="",e=this;(null!=e?e.nodeType:void 0)===r.NodeTypes.ELEMENT_NODE&&e!==n;)a=e.tagName.replace(":","\\:"),o=t(e.parentNode).children(a).index(e)+1,o="["+o+"]",i="/"+e.tagName.toLowerCase()+o+i,e=e.parentNode;return i}),o.get()},c=function(e,t){var n,r,o,i;return n=function(e){var t,n;return t=s(e),n=u(e),t+"["+n+"]"},i=t,r=function(e){var t;for(t="";e!==i;){if(null==e)throw new Error("Called getPathTo on a node which was not a descendant of @rootNode. "+i);t=n(e)+"/"+t,e=e.parentNode}return t="/"+t,t=t.replace(/\/$/,"")},o=e.map(function(){return r(this)}),o.get()},i=function(e,t,n){var r,o,i,a,u;if(!e.hasChildNodes())throw new Error("XPath error: node has no children!");for(o=e.childNodes,i=0,a=0,u=o.length;a<u;a++)if(r=o[a],s(r)===t&&(i+=1)===n)return r;throw new Error("XPath error: wanted child not found.")},s=function(e){var t;switch(t=e.nodeName.toLowerCase()){case"#text":return"text()";case"#comment":return"comment()";case"#cdata-section":return"cdata-section()";default:return t}},u=function(e){var t,n;for(t=0,n=e;n;)n.nodeName===e.nodeName&&(t+=1),n=n.previousSibling;return t},a=function(e,t){var n;try{n=l(e,t)}catch(r){r,console.log("jQuery-based XPath construction failed! Falling back to manual."),n=c(e,t)}return n},f=function(e,n){var r,i,a,s;return null==n&&(n=document),t.isXMLDoc(document.documentElement)?(r=document.createNSResolver(null===document.ownerDocument?document.documentElement:document.ownerDocument.documentElement),a=o(e,n,r),a||(e=function(){var t,n,r,o;for(r=e.split("/"),o=[],t=0,n=r.length;t<n;t++)s=r[t],s&&-1===s.indexOf(":")?o.push(s.replace(/^([a-z]+)/,"xhtml:$1")):o.push(s);return o}().join("/"),i=document.lookupNamespaceURI(null),r=function(e){return"xhtml"===e?i:document.documentElement.getAttribute("xmlns:"+e)},a=o(e,n,r)),a):o(e,n)},e.exports={fromNode:a,toNode:f}}).call(this)},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var r=n(0),o=_interopRequireDefault(r),i=n(22),a=_interopRequireDefault(i);n(34),n(33),n(31),n(14),n(15);var s=n(30);(0,o.default)(document).ready(function(){if((0,o.default)("article").length){var e=new a.default.App;e.include(a.default.ui.main,{element:document.querySelector("article")});var t={permits:function(){return!0}};e.registry.registerUtility(t,"authorizationPolicy");var n=JSON.parse((0,o.default)("#annotationroutes").html());e.include(a.default.storage.http,o.default.extend({},n,{onError:function(e,t){if(!Object.prototype.hasOwnProperty.call(t,"responseJSON"))return void a.default.notification.banner("An error occurred","error");o.default.each(t.responseJSON.children,function(e,t){t.errors&&o.default.each(t.errors,function(e,t){a.default.notification.banner(t,"error")})})}})),e.start().then(function(){e.annotations.load({entry:n.entryId})}),(0,o.default)(window).scroll(function(){var e=(0,o.default)(window).scrollTop(),t=(0,o.default)(document).height(),r=e/t,i=Math.round(100*r)/100;(0,s.savePercent)(n.entryId,i)}),(0,s.retrievePercent)(n.entryId),(0,o.default)(window).resize(function(){(0,s.retrievePercent)(n.entryId)})}})},function(e,t,n){"use strict";(function(e){n(35)(n(32));var r=n(23),o=n(1);t.App=r.App,t.authz=n(5),t.identity=n(6),t.notification=n(7),t.storage=n(8),t.ui=n(25),t.util=o,t.ext={};var i=e.wgxpath;void 0!==i&&null!==i&&"function"==typeof i.install&&i.install();var a=e.annotator;t.noConflict=function(){return e.annotator=a,this}}).call(t,n(2))},function(e,t,n){"use strict";function App(){this.modules=[],this.registry=new u.Registry,this._started=!1,this.registry.registerUtility(s.defaultNotifier,"notifier"),this.include(i.acl),this.include(a.simple),this.include(l.noop)}var r=n(16),o=n(17).Promise,i=n(5),a=n(6),s=n(7),u=n(24),l=n(8);App.prototype.include=function(e,t){var n=e(t);return"function"==typeof n.configure&&n.configure(this.registry),this.modules.push(n),this},App.prototype.start=function(){if(!this._started){this._started=!0;var e=this,t=this.registry;return this.authz=t.getUtility("authorizationPolicy"),this.ident=t.getUtility("identityPolicy"),this.notify=t.getUtility("notifier"),this.annotations=new l.StorageAdapter(t.getUtility("storage"),function(){return e.runHook.apply(e,arguments)}),this.runHook("start",[this])}},App.prototype.destroy=function(){return this.runHook("destroy")},App.prototype.runHook=function(e,t){for(var n=[],r=0,i=this.modules.length;r<i;r++){var a=this.modules[r];"function"==typeof a[e]&&n.push(a[e].apply(a,t))}return o.all(n)},App.extend=r,t.App=App},function(e,t,n){"use strict";function Registry(){this.utilities={}}function LookupError(e){this.name="LookupError",this.message='No utility registered for interface "'+e+'".'}Registry.prototype.registerUtility=function(e,t){this.utilities[t]=e},Registry.prototype.getUtility=function(e){var t=this.queryUtility(e);if(null===t)throw new LookupError(e);return t},Registry.prototype.queryUtility=function(e){var t=this.utilities[e];return void 0===t||null===t?null:t},LookupError.prototype=Object.create(Error.prototype),LookupError.prototype.constructor=LookupError,t.LookupError=LookupError,t.Registry=Registry},function(e,t,n){t.main=n(27).main,t.adder=n(9),t.editor=n(10),t.filter=n(26),t.highlighter=n(11),t.markdown=n(28),t.tags=n(29),t.textselector=n(12),t.viewer=n(13),t.widget=n(3)},function(e,t,n){"use strict";var r=n(1),o=r.$,i=r.gettext,a="annotator-filter",s=t.Filter=function Filter(e){this.options=o.extend(!0,{},Filter.options,e),this.classes=o.extend(!0,{},Filter.classes),this.element=o(Filter.html.element).appendTo(this.options.appendTo),this.filter=o(Filter.html.filter),this.filters=[],this.current=0;for(var t=0,n=this.options.filters.length;t<n;t++){var r=this.options.filters[t];this.addFilter(r)}this.updateHighlights();var s=".annotator-filter-property input",u=this;this.element.on("focus."+a,s,function(e){u._onFilterFocus(e)}).on("blur."+a,s,function(e){u._onFilterBlur(e)}).on("keyup."+a,s,function(e){u._onFilterKeyup(e)}).on("click."+a,".annotator-filter-previous",function(e){u._onPreviousClick(e)}).on("click."+a,".annotator-filter-next",function(e){u._onNextClick(e)}).on("click."+a,".annotator-filter-clear",function(e){u._onClearClick(e)}),this._insertSpacer(),this.options.addAnnotationFilter&&this.addFilter({label:i("Annotation"),property:"text"})};s.prototype.destroy=function(){var e=o("html"),t=parseInt(e.css("padding-top"),10)||0;e.css("padding-top",t-this.element.outerHeight()),this.element.off("."+a),this.element.remove()},s.prototype._insertSpacer=function(){var e=o("html"),t=parseInt(e.css("padding-top"),10)||0;return e.css("padding-top",t+this.element.outerHeight()),this},s.prototype.addFilter=function(e){for(var t=o.extend({label:"",property:"",isFiltered:this.options.isFiltered},e),n=!1,r=0,a=this.filters.length;r<a;r++){if(this.filters[r].property===t.property){n=!0;break}}return n||(t.id="annotator-filter-"+t.property,t.annotations=[],t.element=this.filter.clone().appendTo(this.element),t.element.find("label").html(t.label).attr("for",t.id),t.element.find("input").attr({id:t.id,placeholder:i("Filter by ")+t.label+"…"}),t.element.find("button").hide(),t.element.data("filter",t),this.filters.push(t)),this},s.prototype.updateFilter=function(e){e.annotations=[],this.updateHighlights(),this.resetHighlights();var t=o.trim(e.element.find("input").val());if(t){var n=this.highlights.map(function(){return o(this).data("annotation")});n=o.makeArray(n);for(var r=0,i=n.length;r<i;r++){var a=n[r],s=a[e.property];e.isFiltered(t,s)&&e.annotations.push(a)}this.filterHighlights()}},s.prototype.updateHighlights=function(){this.highlights=o(this.options.filterElement).find(".annotator-hl:visible"),this.filtered=this.highlights.not(this.classes.hl.hide)},s.prototype.filterHighlights=function(){var e=o.grep(this.filters,function(e){return Boolean(e.annotations.length)}),t=[];if(e.length>0&&(t=e[0].annotations),e.length>1){var n=[];o.each(e,function(){o.merge(n,this.annotations)});var r=[];t=[],o.each(n,function(){-1===o.inArray(this,r)?r.push(this):t.push(this)})}for(var i=this.highlights,a=0,s=t.length;a<s;a++)i=i.not(t[a]._local.highlights);return i.addClass(this.classes.hl.hide),this.filtered=this.highlights.not(this.classes.hl.hide),this},s.prototype.resetHighlights=function(){return this.highlights.removeClass(this.classes.hl.hide),this.filtered=this.highlights,this},s.prototype._onFilterFocus=function(e){var t=o(e.target);t.parent().addClass(this.classes.active),t.next("button").show()},s.prototype._onFilterBlur=function(e){if(!e.target.value){var t=o(e.target);t.parent().removeClass(this.classes.active),t.next("button").hide()}},s.prototype._onFilterKeyup=function(e){var t=o(e.target).parent().data("filter");t&&this.updateFilter(t)},s.prototype._findNextHighlight=function(e){if(0===this.highlights.length)return this;var t=-1,n=0,r="gt";e&&(t=0,n=-1,r="lt");var o=this.highlights.not("."+this.classes.hl.hide),i=o.filter("."+this.classes.hl.active);0===i.length&&(i=o.eq(t));var a=i.data("annotation"),s=o.index(i[0]),u=o.filter(":"+r+"("+s+")").not(a._local.highlights).eq(n);0===u.length&&(u=o.eq(n)),this._scrollToHighlight(u.data("annotation")._local.highlights)},s.prototype._onNextClick=function(){this._findNextHighlight()},s.prototype._onPreviousClick=function(){this._findNextHighlight(!0)},s.prototype._scrollToHighlight=function(e){e=o(e),this.highlights.removeClass(this.classes.hl.active),e.addClass(this.classes.hl.active),o("html, body").animate({scrollTop:e.offset().top-(this.element.height()+20)},150)},s.prototype._onClearClick=function(e){o(e.target).prev("input").val("").keyup().blur()},s.classes={active:"annotator-filter-active",hl:{hide:"annotator-hl-filtered",active:"annotator-hl-active"}},s.html={element:['<div class="annotator-filter">',"  <strong>"+i("Navigate:")+"</strong>",'  <span class="annotator-filter-navigation">','    <button type="button"','            class="annotator-filter-previous">'+i("Previous")+"</button>",'    <button type="button"','            class="annotator-filter-next">'+i("Next")+"</button>","  </span>","  <strong>"+i("Filter by:")+"</strong>","</div>"].join("\n"),filter:['<span class="annotator-filter-property">',"  <label></label>","  <input/>",'  <button type="button"','          class="annotator-filter-clear">'+i("Clear")+"</button>","</span>"].join("\n")},s.options={appendTo:"body",filterElement:"body",filters:[],addAnnotationFilter:!0,isFiltered:function(e,t){if(!e||!t)return!1;for(var n=e.split(/\s+/),r=0,o=n.length;r<o;r++)if(-1===t.indexOf(n[r]))return!1;return!0}},t.standalone=function(e){var n=new t.Filter(e);return{destroy:function(){n.destroy()},annotationsLoaded:function(){n.updateHighlights()},annotationCreated:function(){n.updateHighlights()},annotationUpdated:function(){n.updateHighlights()},annotationDeleted:function(){n.updateHighlights()}}}},function(e,t,n){"use strict";(function(e){function trim(e){return"function"==typeof String.prototype.trim?String.prototype.trim.call(e):e.replace(/^[\s\xA0]+|[\s\xA0]+$/g,"")}function annotationFactory(e,t){return function(n){for(var r=[],o=[],i=0,a=n.length;i<a;i++){var s=n[i];r.push(trim(s.text())),o.push(s.serialize(e,t))}return{quote:r.join(" / "),ranges:o}}}function maxZIndex(e){for(var t=-1,n=0,o=e.length;n<o;n++){var i=r.$(e[n]);if("static"!==i.css("position")){var a=parseFloat(i.css("z-index"));a>t&&(t=a)}}return t}function injectDynamicStyle(){r.$("#annotator-dynamic-style").remove();var t=maxZIndex(r.$(e.document.body).find("*:not(annotator-adder):not(annotator-outer):not(annotator-notice):not(annotator-filter)").get());t=Math.max(t,1e3);var n=[".annotator-adder, .annotator-outer, .annotator-notice {","  z-index: "+(t+20)+";","}",".annotator-filter {","  z-index: "+(t+10)+";","}"].join("\n");r.$("<style>"+n+"</style>").attr("id","annotator-dynamic-style").attr("type","text/css").appendTo("head")}function removeDynamicStyle(){r.$("#annotator-dynamic-style").remove()}function addPermissionsCheckboxes(e,t,n){function createLoadCallback(e){return function(o,i){o=r.$(o).show();var a=t.who(),s=o.find("input");void 0!==a&&null!==a||o.hide(),n.permits("admin",i,a)||o.hide(),n.permits(e,i,null)?s.attr("checked","checked"):s.removeAttr("checked")}}function createSubmitCallback(e){return function(o,i){var a=t.who();void 0!==a&&null!==a&&(i.permissions||(i.permissions={}),r.$(o).find("input").is(":checked")?delete i.permissions[e]:i.permissions[e]=[n.authorizedUserId(a)])}}e.addField({type:"checkbox",label:l("Allow anyone to <strong>view</strong> this annotation"),load:createLoadCallback("read"),submit:createSubmitCallback("read")}),e.addField({type:"checkbox",label:l("Allow anyone to <strong>edit</strong> this annotation"),load:createLoadCallback("update"),submit:createSubmitCallback("update")})}function main(t){function start(e){var c=e.registry.getUtility("identityPolicy"),f=e.registry.getUtility("authorizationPolicy");l.adder=new o.Adder({onCreate:function(t){e.annotations.create(t)}}),l.adder.attach(),l.editor=new i.Editor({extensions:t.editorExtensions}),l.editor.attach(),addPermissionsCheckboxes(l.editor,c,f),l.highlighter=new a.Highlighter(t.element),l.textselector=new s.TextSelector(t.element,{onSelection:function(e,t){if(e.length>0){var o=n(e);l.interactionPoint=r.mousePosition(t),l.adder.load(o,l.interactionPoint)}else l.adder.hide()}}),l.viewer=new u.Viewer({onEdit:function(t){l.interactionPoint=r.$(l.viewer.element).css(["top","left"]),e.annotations.update(t)},onDelete:function(t){e.annotations.delete(t)},permitEdit:function(e){return f.permits("update",e,c.who())},permitDelete:function(e){return f.permits("delete",e,c.who())},autoViewHighlights:t.element,extensions:t.viewerExtensions}),l.viewer.attach(),injectDynamicStyle()}void 0!==t&&null!==t||(t={}),t.element=t.element||e.document.body,t.editorExtensions=t.editorExtensions||[],t.viewerExtensions=t.viewerExtensions||[];var n=annotationFactory(t.element,".annotator-hl"),l={interactionPoint:null};return{start:start,destroy:function(){l.adder.destroy(),l.editor.destroy(),l.highlighter.destroy(),l.textselector.destroy(),l.viewer.destroy(),removeDynamicStyle()},annotationsLoaded:function(e){l.highlighter.drawAll(e)},annotationCreated:function(e){l.highlighter.draw(e)},annotationDeleted:function(e){l.highlighter.undraw(e)},annotationUpdated:function(e){l.highlighter.redraw(e)},beforeAnnotationCreated:function(e){return l.editor.load(e,l.interactionPoint)},beforeAnnotationUpdated:function(e){return l.editor.load(e,l.interactionPoint)}}}var r=n(1),o=n(9),i=n(10),a=n(11),s=n(12),u=n(13),l=r.gettext;t.main=main}).call(t,n(2))},function(e,t,n){"use strict";(function(e){var r=n(1),o=r.gettext,i=t.render=function(t){var n=r.escapeHtml;return e.showdown&&"function"==typeof e.showdown.Converter&&(n=(new e.showdown.Converter).makeHtml),t.text?n(t.text):"<i>"+o("No comment")+"</i>"};t.viewerExtension=function(t){e.showdown&&"function"==typeof e.showdown.Converter||console.warn(o("To use the Markdown plugin, you must include Showdown into the page first.")),t.setRenderer(i)}}).call(t,n(2))},function(e,t,n){"use strict";function stringifyTags(e){return e.join(" ")}function parseTags(e){e=o.trim(e);var t=[];return e&&(t=e.split(/\s+/)),t}var r=n(1),o=r.$,i=r.gettext;t.viewerExtension=function(e){function updateViewer(e,t){e=o(e),t.tags&&o.isArray(t.tags)&&t.tags.length?e.addClass("annotator-tags").html(function(){return o.map(t.tags,function(e){return'<span class="annotator-tag">'+r.escapeHtml(e)+"</span>"}).join(" ")}):e.remove()}e.addField({load:updateViewer})},t.editorExtension=function(e){function updateField(e,t){var r="";t.tags&&(r=stringifyTags(t.tags)),n.val(r)}function setAnnotationTags(e,t){t.tags=parseTags(n.val())}var t=null,n=null;t=e.addField({label:i("Add some tags here")+"…",load:updateField,submit:setAnnotationTags}),n=o(t).find(":input")}},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function supportsLocalStorage(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}}function savePercent(e,t){return!!supportsLocalStorage()&&(localStorage["wallabag.article."+e+".percent"]=t,!0)}function retrievePercent(e){if(!supportsLocalStorage())return!1;var t=(0,o.default)(document).height(),n=localStorage["wallabag.article."+e+".percent"],r=t*n;return(0,o.default)("html,body").animate({scrollTop:r},"fast"),!0}Object.defineProperty(t,"__esModule",{value:!0}),t.retrievePercent=t.savePercent=void 0;var r=n(0),o=_interopRequireDefault(r);n(15),n(14);var i=n(36);_interopRequireDefault(i);t.savePercent=savePercent,t.retrievePercent=retrievePercent},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){var n={};e.exports=function(e,t){if(!n[e]){n[e]=!0;var r=document.createElement("style");r.setAttribute("type","text/css"),"textContent"in r?r.textContent=e:r.styleSheet.cssText=e;var o=document.getElementsByTagName("head")[0];t&&t.prepend?o.insertBefore(r,o.childNodes[0]):o.appendChild(r)}}},function(e,t,n){!function(t,n){e.exports=n()}(0,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(e,t,n){"use strict";e.exports=n(3)},function(e,t){"use strict";!function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert first argument to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r){r=Object(r);for(var o=Object.keys(Object(r)),i=0,a=o.length;i<a;i++){var s=o[i],u=Object.getOwnPropertyDescriptor(r,s);void 0!==u&&u.enumerable&&(t[s]=r[s])}}}return t}})}()},function(e,t){"use strict";e.exports=function(){var e={};return e.utf16to8=function(e){var t,n,r,o;for(t="",r=e.length,n=0;n<r;n++)o=e.charCodeAt(n),o>=1&&o<=127?t+=e.charAt(n):o>2047?(t+=String.fromCharCode(224|o>>12&15),t+=String.fromCharCode(128|o>>6&63),t+=String.fromCharCode(128|o>>0&63)):(t+=String.fromCharCode(192|o>>6&31),t+=String.fromCharCode(128|o>>0&63));return t},e.utf8to16=function(e){var t,n,r,o,i,a;for(t="",r=e.length,n=0;n<r;)switch((o=e.charCodeAt(n++))>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=e.charAt(n-1);break;case 12:case 13:i=e.charCodeAt(n++),t+=String.fromCharCode((31&o)<<6|63&i);break;case 14:i=e.charCodeAt(n++),a=e.charCodeAt(n++),t+=String.fromCharCode((15&o)<<12|(63&i)<<6|(63&a)<<0)}return t},e}()},function(e,n,r){"use strict";r(1),r(4);var o=r(2),i=function(){function t(e){var t=new QRCode(e.typeNumber,e.correctLevel);t.addData(e.text),t.make();var n=document.createElement("canvas");n.width=e.width,n.height=e.height;var r=n.getContext("2d"),o=(e.width-2*e.padding)/t.getModuleCount(),i=(e.height-2*e.padding)/t.getModuleCount();if(e.reverse){var a="rgba(0, 0, 0, 0)";r.fillStyle=a,e.foreground=a}else r.fillStyle=e.background;r.fillRect(0,0,n.width,n.height);for(var s=0;s<t.getModuleCount();s++)for(var u=0;u<t.getModuleCount();u++){r.fillStyle=t.isDark(s,u)?e.foreground:e.background;var l=Math.ceil((u+1)*o)-Math.floor(u*o),c=Math.ceil((s+1)*o)-Math.floor(s*o);r.fillRect(Math.round(u*o)+e.padding,Math.round(s*i)+e.padding,l,c)}return n}var e={};return e.getQrBase64=function(e,n){"string"!=typeof e&&(e=""),"string"==typeof n?n={text:n}:"object"!=typeof n&&(n={}),n=Object.assign({padding:10,width:256,height:256,typeNumber:-1,correctLevel:QRErrorCorrectLevel.H,reverse:!1,background:"#ffffff",foreground:"#000000"},n);try{n.text=o.utf16to8(e)}catch(e){n.text=""+e}return t(n).toDataURL()},e.QRErrorCorrectLevel=QRErrorCorrectLevel,e}();!window.jrQrcode&&(window.jrQrcode=i),e.exports=i},function(e,t){function r(e){this.mode=s.MODE_8BIT_BYTE,this.data=e}function o(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=new Array}function n(e,t){if(void 0==e.length)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&0==e[n];)n++;this.num=new Array(e.length-n+t);for(var r=0;r<e.length-n;r++)this.num[r]=e[r+n]}function i(e,t){this.totalCount=e,this.dataCount=t}function a(){this.buffer=new Array,this.length=0}r.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}},o.prototype={addData:function(e){var t=new r(e);this.dataList.push(t),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=i.getRSBlocks(e,this.errorCorrectLevel),n=new a,r=0,o=0;o<t.length;o++)r+=t[o].dataCount;for(var o=0;o<this.dataList.length;o++){var s=this.dataList[o];n.put(s.mode,4),n.put(s.getLength(),c.getLengthInBits(s.mode,e)),s.write(n)}if(n.getLengthInBits()<=8*r)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[n][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=o.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var r=-1;r<=7;r++)t+r<=-1||this.moduleCount<=t+r||(this.modules[e+n][t+r]=0<=n&&n<=6&&(0==r||6==r)||0<=r&&r<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=r&&r<=4)},getBestMaskPattern:function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var r=c.getLostPoint(this);(0==n||e>r)&&(e=r,t=n)}return t},createMovieClip:function(e,t,n){var r=e.createEmptyMovieClip(t,n);this.make();for(var o=0;o<this.modules.length;o++)for(var i=1*o,a=0;a<this.modules[o].length;a++){var s=1*a,u=this.modules[o][a];u&&(r.beginFill(0,100),r.moveTo(s,i),r.lineTo(s+1,i),r.lineTo(s+1,i+1),r.lineTo(s,i+1),r.endFill())}return r},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=c.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var r=e[t],o=e[n];if(null==this.modules[r][o])for(var i=-2;i<=2;i++)for(var a=-2;a<=2;a++)this.modules[r+i][o+a]=-2==i||2==i||-2==a||2==a||0==i&&0==a}},setupTypeNumber:function(e){for(var t=c.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var r=!e&&1==(t>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=r}for(var n=0;n<18;n++){var r=!e&&1==(t>>n&1);this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=r}},setupTypeInfo:function(e,t){for(var n=this.errorCorrectLevel<<3|t,r=c.getBCHTypeInfo(n),o=0;o<15;o++){var i=!e&&1==(r>>o&1);o<6?this.modules[o][8]=i:o<8?this.modules[o+1][8]=i:this.modules[this.moduleCount-15+o][8]=i}for(var o=0;o<15;o++){var i=!e&&1==(r>>o&1);o<8?this.modules[8][this.moduleCount-o-1]=i:o<9?this.modules[8][15-o-1+1]=i:this.modules[8][15-o-1]=i}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var n=-1,r=this.moduleCount-1,o=7,i=0,a=this.moduleCount-1;a>0;a-=2)for(6==a&&a--;;){for(var s=0;s<2;s++)if(null==this.modules[r][a-s]){var u=!1;i<e.length&&(u=1==(e[i]>>>o&1));var l=c.getMask(t,r,a-s);l&&(u=!u),this.modules[r][a-s]=u,-1==--o&&(i++,o=7)}if((r+=n)<0||this.moduleCount<=r){r-=n,n=-n;break}}}},o.PAD0=236,o.PAD1=17,o.createData=function(e,t,n){for(var r=i.getRSBlocks(e,t),s=new a,u=0;u<n.length;u++){var l=n[u];s.put(l.mode,4),s.put(l.getLength(),c.getLengthInBits(l.mode,e)),l.write(s)}for(var f=0,u=0;u<r.length;u++)f+=r[u].dataCount;if(s.getLengthInBits()>8*f)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+8*f+")");for(s.getLengthInBits()+4<=8*f&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=8*f)&&(s.put(o.PAD0,8),!(s.getLengthInBits()>=8*f));)s.put(o.PAD1,8);return o.createBytes(s,r)},o.createBytes=function(e,t){for(var r=0,o=0,i=0,a=new Array(t.length),s=new Array(t.length),u=0;u<t.length;u++){var l=t[u].dataCount,f=t[u].totalCount-l;o=Math.max(o,l),i=Math.max(i,f),a[u]=new Array(l);for(var d=0;d<a[u].length;d++)a[u][d]=255&e.buffer[d+r];r+=l;var h=c.getErrorCorrectPolynomial(f),p=new n(a[u],h.getLength()-1),g=p.mod(h);s[u]=new Array(h.getLength()-1);for(var d=0;d<s[u].length;d++){var m=d+g.getLength()-s[u].length;s[u][d]=m>=0?g.get(m):0}}for(var v=0,d=0;d<t.length;d++)v+=t[d].totalCount;for(var y=new Array(v),w=0,d=0;d<o;d++)for(var u=0;u<t.length;u++)d<a[u].length&&(y[w++]=a[u][d]);for(var d=0;d<i;d++)for(var u=0;u<t.length;u++)d<s[u].length&&(y[w++]=s[u][d]);return y};for(var s={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},u={L:1,M:0,Q:3,H:2},l={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},c={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;c.getBCHDigit(t)-c.getBCHDigit(c.G15)>=0;)t^=c.G15<<c.getBCHDigit(t)-c.getBCHDigit(c.G15);return(e<<10|t)^c.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;c.getBCHDigit(t)-c.getBCHDigit(c.G18)>=0;)t^=c.G18<<c.getBCHDigit(t)-c.getBCHDigit(c.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return c.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case l.PATTERN000:return(t+n)%2==0;case l.PATTERN001:return t%2==0;case l.PATTERN010:return n%3==0;case l.PATTERN011:return(t+n)%3==0;case l.PATTERN100:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case l.PATTERN101:return t*n%2+t*n%3==0;case l.PATTERN110:return(t*n%2+t*n%3)%2==0;case l.PATTERN111:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new n([1],0),r=0;r<e;r++)t=t.multiply(new n([1,f.gexp(r)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case s.MODE_NUMBER:return 10;case s.MODE_ALPHA_NUM:return 9;case s.MODE_8BIT_BYTE:case s.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case s.MODE_NUMBER:return 12;case s.MODE_ALPHA_NUM:return 11;case s.MODE_8BIT_BYTE:return 16;case s.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case s.MODE_NUMBER:return 14;case s.MODE_ALPHA_NUM:return 13;case s.MODE_8BIT_BYTE:return 16;case s.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,r=0;r<t;r++)for(var o=0;o<t;o++){for(var i=0,a=e.isDark(r,o),s=-1;s<=1;s++)if(!(r+s<0||t<=r+s))for(var u=-1;u<=1;u++)o+u<0||t<=o+u||0==s&&0==u||a==e.isDark(r+s,o+u)&&i++;i>5&&(n+=3+i-5)}for(var r=0;r<t-1;r++)for(var o=0;o<t-1;o++){var l=0;e.isDark(r,o)&&l++,e.isDark(r+1,o)&&l++,e.isDark(r,o+1)&&l++,e.isDark(r+1,o+1)&&l++,0!=l&&4!=l||(n+=3)}for(var r=0;r<t;r++)for(var o=0;o<t-6;o++)e.isDark(r,o)&&!e.isDark(r,o+1)&&e.isDark(r,o+2)&&e.isDark(r,o+3)&&e.isDark(r,o+4)&&!e.isDark(r,o+5)&&e.isDark(r,o+6)&&(n+=40);for(var o=0;o<t;o++)for(var r=0;r<t-6;r++)e.isDark(r,o)&&!e.isDark(r+1,o)&&e.isDark(r+2,o)&&e.isDark(r+3,o)&&e.isDark(r+4,o)&&!e.isDark(r+5,o)&&e.isDark(r+6,o)&&(n+=40);for(var c=0,o=0;o<t;o++)for(var r=0;r<t;r++)e.isDark(r,o)&&c++;return n+=Math.abs(100*c/t/t-50)/5*10}},f={glog:function(e){if(e<1)throw new Error("glog("+e+")");return f.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return f.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},d=0;d<8;d++)f.EXP_TABLE[d]=1<<d;for(var d=8;d<256;d++)f.EXP_TABLE[d]=f.EXP_TABLE[d-4]^f.EXP_TABLE[d-5]^f.EXP_TABLE[d-6]^f.EXP_TABLE[d-8];for(var d=0;d<255;d++)f.LOG_TABLE[f.EXP_TABLE[d]]=d;n.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),r=0;r<this.getLength();r++)for(var o=0;o<e.getLength();o++)t[r+o]^=f.gexp(f.glog(this.get(r))+f.glog(e.get(o)));return new n(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=f.glog(this.get(0))-f.glog(e.get(0)),r=new Array(this.getLength()),o=0;o<this.getLength();o++)r[o]=this.get(o);for(var o=0;o<e.getLength();o++)r[o]^=f.gexp(f.glog(e.get(o))+t);return new n(r,0).mod(e)}},i.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],i.getRSBlocks=function(e,t){var n=i.getRsBlockTable(e,t);if(void 0==n)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var r=n.length/3,o=new Array,a=0;a<r;a++)for(var s=n[3*a+0],u=n[3*a+1],l=n[3*a+2],c=0;c<s;c++)o.push(new i(u,l));return o},i.getRsBlockTable=function(e,t){switch(t){case u.L:return i.RS_BLOCK_TABLE[4*(e-1)+0];case u.M:return i.RS_BLOCK_TABLE[4*(e-1)+1];case u.Q:return i.RS_BLOCK_TABLE[4*(e-1)+2];case u.H:return i.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},a.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},window.QRCode=o,window.QRErrorCorrectLevel=u;try{e.exports={QRCode:o,QRErrorCorrectLevel:u}}catch(e){}}])})},function(e,t){function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(n===setTimeout)return setTimeout(e,0);if((n===defaultSetTimout||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}function runClearTimeout(e){if(r===clearTimeout)return clearTimeout(e);if((r===defaultClearTimeout||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}function cleanUpNextTick(){s&&i&&(s=!1,i.length?a=i.concat(a):u=-1,a.length&&drainQueue())}function drainQueue(){if(!s){var e=runTimeout(cleanUpNextTick);s=!0;for(var t=a.length;t;){for(i=a,a=[];++u<t;)i&&i[u].run();u=-1,t=a.length}i=null,s=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}var n,r,o=e.exports={};!function(){try{n="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){n=defaultSetTimout}try{r="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){r=defaultClearTimeout}}();var i,a=[],s=!1,u=-1;o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];a.push(new Item(e,t)),1!==a.length||s||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=noop,o.addListener=noop,o.once=noop,o.off=noop,o.removeListener=noop,o.removeAllListeners=noop,o.emit=noop,o.prependListener=noop,o.prependOnceListener=noop,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){(function(){var t,r,o,i,a={}.hasOwnProperty,s=function(e,t){function ctor(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return ctor.prototype=t.prototype,e.prototype=new ctor,e.__super__=t.prototype,e};i=n(20),o=n(19),t=n(0),r={},r.sniff=function(e){return null!=e.commonAncestorContainer?new r.BrowserRange(e):"string"==typeof e.start?new r.SerializedRange(e):e.start&&"object"==typeof e.start?new r.NormalizedRange(e):(console.error("Could not sniff range type"),!1)},r.RangeError=function(e){function RangeError(e,t,n){this.type=e,this.message=t,this.parent=null!=n?n:null,RangeError.__super__.constructor.call(this,this.message)}return s(RangeError,e),RangeError}(Error),r.BrowserRange=function(){function BrowserRange(e){this.commonAncestorContainer=e.commonAncestorContainer,this.startContainer=e.startContainer,this.startOffset=e.startOffset,this.endContainer=e.endContainer,this.endOffset=e.endOffset}return BrowserRange.prototype.normalize=function(e){var t,n;if(this.tainted)return console.error("You may only call normalize() once on a BrowserRange!"),!1;for(this.tainted=!0,n={},this._normalizeStart(n),this._normalizeEnd(n),t={},n.startOffset>0?n.start.nodeValue.length>n.startOffset?t.start=n.start.splitText(n.startOffset):t.start=n.start.nextSibling:t.start=n.start,n.start===n.end?(t.start.nodeValue.length>n.endOffset-n.startOffset&&t.start.splitText(n.endOffset-n.startOffset),t.end=t.start):(n.end.nodeValue.length>n.endOffset&&n.end.splitText(n.endOffset),t.end=n.end),t.commonAncestor=this.commonAncestorContainer;t.commonAncestor.nodeType!==o.NodeTypes.ELEMENT_NODE;)t.commonAncestor=t.commonAncestor.parentNode;return new r.NormalizedRange(t)},BrowserRange.prototype._normalizeStart=function(e){return this.startContainer.nodeType===o.NodeTypes.ELEMENT_NODE?(e.start=o.getFirstTextNodeNotBefore(this.startContainer.childNodes[this.startOffset]),e.startOffset=0):(e.start=this.startContainer,e.startOffset=this.startOffset)},BrowserRange.prototype._normalizeEnd=function(e){var t,n;if(this.endContainer.nodeType!==o.NodeTypes.ELEMENT_NODE)return e.end=this.endContainer,e.endOffset=this.endOffset;if(null!=(n=this.endContainer.childNodes[this.endOffset])){for(t=n;null!=t&&t.nodeType!==o.NodeTypes.TEXT_NODE;)t=t.firstChild;null!=t&&(e.end=t,e.endOffset=0)}return null==e.end?(n=this.endOffset?this.endContainer.childNodes[this.endOffset-1]:this.endContainer.previousSibling,e.end=o.getLastTextNodeUpTo(n),e.endOffset=e.end.nodeValue.length):void 0},BrowserRange.prototype.serialize=function(e,t){return this.normalize(e).serialize(e,t)},BrowserRange}(),r.NormalizedRange=function(){function NormalizedRange(e){this.commonAncestor=e.commonAncestor,this.start=e.start,this.end=e.end}return NormalizedRange.prototype.normalize=function(e){return this},NormalizedRange.prototype.limit=function(e){var n,r,o,i,a,s;if(n=t.grep(this.textNodes(),function(n){return n.parentNode===e||t.contains(e,n.parentNode)}),!n.length)return null;for(this.start=n[0],this.end=n[n.length-1],o=t(this.start).parents(),s=t(this.end).parents(),i=0,a=s.length;i<a;i++)if(r=s[i],-1!==o.index(r)){this.commonAncestor=r;break}return this},NormalizedRange.prototype.serialize=function(e,n){var a,s,u;return s=function(r,a){var s,u,l,c,f,d,h,p;for(c=n?t(r).parents(":not("+n+")").eq(0):t(r).parent(),f=i.fromNode(c,e)[0],d=o.getTextNodes(c),u=d.slice(0,d.index(r)),l=0,h=0,p=u.length;h<p;h++)s=u[h],l+=s.nodeValue.length;return a?[f,l+r.nodeValue.length]:[f,l]},u=s(this.start),a=s(this.end,!0),new r.SerializedRange({start:u[0],end:a[0],startOffset:u[1],endOffset:a[1]})},NormalizedRange.prototype.text=function(){var e;return function(){var t,n,r,o;for(r=this.textNodes(),o=[],t=0,n=r.length;t<n;t++)e=r[t],o.push(e.nodeValue);return o}.call(this).join("")},NormalizedRange.prototype.textNodes=function(){var e,n,r,i;return r=o.getTextNodes(t(this.commonAncestor)),i=[r.index(this.start),r.index(this.end)],n=i[0],e=i[1],t.makeArray(r.slice(n,+e+1||9e9))},NormalizedRange}(),r.SerializedRange=function(){function SerializedRange(e){this.start=e.start,this.startOffset=e.startOffset,this.end=e.end,this.endOffset=e.endOffset}return SerializedRange.prototype.normalize=function(e){var n,a,s,u,l,c,f,d,h,p,g,m,v,y;for(c={},v=["start","end"],h=0,g=v.length;h<g;h++){l=v[h];try{u=i.toNode(this[l],e)}catch(e){throw a=e,new r.RangeError(l,"Error while finding "+l+" node: "+this[l]+": "+a,a)}if(!u)throw new r.RangeError(l,"Couldn't find "+l+" node: "+this[l]);for(s=0,f=this[l+"Offset"],"end"===l&&(f-=1),y=o.getTextNodes(t(u)),p=0,m=y.length;p<m;p++){if(d=y[p],s+d.nodeValue.length>f){c[l+"Container"]=d,c[l+"Offset"]=this[l+"Offset"]-s;break}s+=d.nodeValue.length}if(null==c[l+"Offset"])throw new r.RangeError(l+"offset","Couldn't find offset "+this[l+"Offset"]+" in element "+this[l])}return n=null!=document.compareDocumentPosition?function(e,t){return e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY}:function(e,t){return e.contains(t)},t(c.startContainer).parents().each(function(){var e;if(e=c.endContainer.nodeType===o.NodeTypes.TEXT_NODE?c.endContainer.parentNode:c.endContainer,n(this,e))return c.commonAncestorContainer=this,!1}),new r.BrowserRange(c).normalize(e)},SerializedRange.prototype.serialize=function(e,t){return this.normalize(e).serialize(e,t)},SerializedRange.prototype.toObject=function(){return{start:this.start,startOffset:this.startOffset,end:this.end,endOffset:this.endOffset}},SerializedRange}(),e.exports=r}).call(this)},function(e,t){},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var r=n(4),o=_interopRequireDefault(r),i=n(0),a=_interopRequireDefault(i);(0,a.default)(document).ready(function(){(0,a.default)("#article").length>0&&(o.default.bind("o",function(){(0,a.default)("div#article_toolbar ul.links a.original")[0].click()}),o.default.bind("f",function(){(0,a.default)("div#article_toolbar ul.links a.favorite")[0].click()}),o.default.bind("a",function(){(0,a.default)("div#article_toolbar ul.links a.markasread")[0].click()}),o.default.bind("t",function(){(0,a.default)("div#article_toolbar ul.links a#nav-btn-add-tag")[0].click()}),o.default.bind("del",function(){(0,a.default)("div#article_toolbar ul.links a.delete")[0].click()}))})},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var r=n(0),o=_interopRequireDefault(r),i=n(4),a=_interopRequireDefault(i);(0,o.default)(document).ready(function(){a.default.bind("s",function(){return(0,o.default)("#search").trigger("click"),(0,o.default)("#search_entry_term").focus(),!1})})},function(e,t,n){"use strict";function toggleSaveLinkForm(e,t){(0,o.default)("#add-link-result").empty();var n=(0,o.default)("#bagit"),r=(0,o.default)("#bagit-form");n.toggleClass("active-current"),0===n.length&&("undefined"!==t&&t?r.css({position:"absolute",top:t.pageY,left:t.pageX-200}):r.css({position:"relative",top:"auto",left:"auto"}));var i=(0,o.default)("#search-form"),a=(0,o.default)("#plainurl");0!==i.length&&((0,o.default)("#search").removeClass("current"),(0,o.default)("#search-arrow").removeClass("arrow-down"),i.hide()),r.toggle(),(0,o.default)("#content").toggleClass("opacity03"),"undefined"!==e&&e&&a.val(e),a.focus()}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=toggleSaveLinkForm},,,,,function(e,t){},,,,,function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var r=n(0),o=_interopRequireDefault(r);n(21),n(41),n(40);var i=n(42),a=_interopRequireDefault(i);n(47),(0,o.default)(document).ready(function(){function toggleSearch(){(0,o.default)("#search-form").toggle(),(0,o.default)("#search").toggleClass("current"),(0,o.default)("#search").toggleClass("active-current"),(0,o.default)("#search-arrow").toggleClass("arrow-down"),(0,o.default)("#search").hasClass("current")?(0,o.default)("#content").addClass("opacity03"):(0,o.default)("#content").removeClass("opacity03")}function toggleFilter(){(0,o.default)("#filters").toggle()}function toggleDownload(){(0,o.default)("#download-form").toggle()}function toggleBagit(){(0,o.default)("#bagit-form").toggle(),(0,o.default)("#bagit").toggleClass("current"),(0,o.default)("#bagit").toggleClass("active-current"),(0,o.default)("#bagit-arrow").toggleClass("arrow-down"),(0,o.default)("#bagit").hasClass("current")?(0,o.default)("#content").addClass("opacity03"):(0,o.default)("#content").removeClass("opacity03")}function closePopups(){(0,o.default)("#links .messages").hide(),(0,o.default)("#links > li > a").removeClass("active-current"),(0,o.default)("#links > li > a").removeClass("current"),(0,o.default)("[id$=-arrow]").removeClass("arrow-down"),(0,o.default)("#content").removeClass("opacity03")}(0,o.default)("#menu").click(function(){(0,o.default)("#links").toggleClass("menu--open");var e=(0,o.default)("#content");e.hasClass("opacity03")&&e.removeClass("opacity03")}),(0,o.default)("#nav-btn-add-tag").on("click",function(){return(0,o.default)(".baggy-add-tag").toggle(100),(0,o.default)(".nav-panel-menu").addClass("hidden"),(0,o.default)("#tag_label").focus(),!1}),(0,o.default)("div").is("#filters")&&((0,o.default)("#button_filters").show(),(0,o.default)("#clear_form_filters").on("click",function(){return(0,o.default)("#filters input").val(""),(0,o.default)("#filters :checked").removeAttr("checked"),!1})),window.location.href.match("&closewin=true")&&window.close(),(0,o.default)("a.closeMessage").on("click",function(){return(0,o.default)(void 0).parents("div.messages").slideUp(300,function(){(0,o.default)(void 0).remove()}),!1}),(0,o.default)("#search-form").hide(),(0,o.default)("#bagit-form").hide(),(0,o.default)("#filters").hide(),(0,o.default)("#download-form").hide(),(0,o.default)("#search").click(function(){closePopups(),toggleSearch(),(0,o.default)("#searchfield").focus()}),(0,o.default)(".filter-btn").click(function(){closePopups(),toggleFilter()}),(0,o.default)(".download-btn").click(function(){closePopups(),toggleDownload()}),(0,o.default)("#bagit").click(function(){closePopups(),toggleBagit(),(0,o.default)("#plainurl").focus()}),(0,o.default)("#search-form-close").click(function(){toggleSearch()}),(0,o.default)("#filter-form-close").click(function(){toggleFilter()}),(0,o.default)("#download-form-close").click(function(){toggleDownload()}),(0,o.default)("#bagit-form-close").click(function(){toggleBagit()});var e=(0,o.default)("#bagit-form-form");e.submit(function(t){(0,o.default)("body").css("cursor","wait"),(0,o.default)("#add-link-result").empty(),o.default.ajax({type:e.attr("method"),url:e.attr("action"),data:e.serialize(),success:function(){(0,o.default)("#add-link-result").html("Done!"),(0,o.default)("#plainurl").val("").blur(""),(0,o.default)("body").css("cursor","auto")},error:function(){(0,o.default)("#add-link-result").html("Failed!"),(0,o.default)("body").css("cursor","auto")}}),t.preventDefault()}),(0,o.default)('article a[href^="http"]').after(function(){return'<a href="'+(0,o.default)(void 0).attr("href")+'" class="add-to-wallabag-link-after" title="add to wallabag"></a>'}),(0,o.default)(".add-to-wallabag-link-after").click(function(e){(0,a.default)((0,o.default)(void 0).attr("href"),e),e.preventDefault()})})}]);